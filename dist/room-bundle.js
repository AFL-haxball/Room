(()=>{"use strict";var t={9e3:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0});const n=a(2781);e.default=class{constructor(t,e,a){this.type=t,this.player=(0,n.flattenPlayer)(e),this.playerPosition=a}}},9980:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(5693)),i=n(a(4999)),r=n(a(7117)),o=a(2665);e.default=class{constructor(t,e){this.content=t.trim(),this.author=e,this.createdAt=new Date}_splitContentByWhiteSpaceAndToLower(){return this.content.toLowerCase().split(/\s+/)}isOffensive(){return(0,o.containsNWord)(this.content)}isGameCommand(){return i.default.has(this.content.toLowerCase())}startsWithCommandPrefix(){return this.content.startsWith(s.default.PREFIX.COMMAND)}startsWithTeamChatPrefix(){const[t=null]=this._splitContentByWhiteSpaceAndToLower();return t===s.default.PREFIX.TEAMCHAT}reply(t,e={}){var a;e.color=r.default.Gray,e.id=null===(a=this.author)||void 0===a?void 0:a.id,s.default.send(t,e)}replyError(t,e={}){var a;e.id=null===(a=this.author)||void 0===a?void 0:a.id,s.default.sendError(t,e)}replySuccess(t,e={}){var a;e.id=null===(a=this.author)||void 0===a?void 0:a.id,s.default.sendSuccess(t,e)}announce(t,e={}){s.default.sendAnnouncement(t,e)}}},5382:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(5693)),i=n(a(9980));class r extends i.default{constructor(t,e){super(t,e);const{cmdName:a,cmdParamsArray:n,cmdParamsStr:s}=this._extractCommandNameAndParams();this.commandParamsArray=n,this.commandParamsStr=s,this.commandName=a,this.commandParamsLength=n.length}hasNoParams(){return 0===this.commandParamsLength}_extractCommandNameAndParams(){const t=this._splitContentByWhiteSpaceAndToLower(),[e,...a]=t,n=e.substring(s.default.PREFIX.COMMAND.length),i=a.join(" ");return{cmdName:n,cmdParamsArray:a,cmdParamsStr:i}}}e.default=r},9072:function(t,e,a){var n=this&&this.__createBinding||(Object.create?function(t,e,a,n){void 0===n&&(n=a);var s=Object.getOwnPropertyDescriptor(e,a);s&&!("get"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[a]}}),Object.defineProperty(t,n,s)}:function(t,e,a,n){void 0===n&&(n=a),t[n]=e[a]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)"default"!==a&&Object.prototype.hasOwnProperty.call(t,a)&&n(e,t,a);return s(e,t),e},r=this&&this.__awaiter||function(t,e,a,n){return new(a||(a=Promise))((function(s,i){function r(t){try{l(n.next(t))}catch(t){i(t)}}function o(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(r,o)}l((n=n.apply(t,e||[])).next())}))},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const l=o(a(5693)),d=o(a(9972)),u=i(a(5697)),c=o(a(4198)),f=a(4798),h=a(2665),m=o(a(5961)),y=o(a(8375)),g=a(2781),p=o(a(5198)),P=o(a(1858));class _{constructor(){this._los={x:0,y:0},this._currentDown=1,this._yardsToGet=_.CONFIG.DEFAULT_YARDS_TO_GET,this._redZonePenalties=0,this._MAX_REZONE_PENALTIES=3}getLOS(){return this._los}setLOS(t){return this._los.x=t,this}getLOSYard(){return u.DistanceConverter.toYardLine(this._los.x)}getYardsToGet(){return this._yardsToGet}setYardsToGet(t){return this._yardsToGet=t,this}subtractYardsToGet(t){return this._yardsToGet-=t,this}getDown(){return this._currentDown}setDown(t){return this._currentDown=t,this}addDown(){return this._currentDown++,this}startNew(){this._currentDown=1,this._yardsToGet=_.CONFIG.DEFAULT_YARDS_TO_GET,this._redZonePenalties=0}getSnapPosition(){return{x:(new u.default).subtractByTeam(this._los.x,5*f.MAP_POINTS.YARD,P.default.game.offenseTeamId).calculate(),y:0}}incrementRedZonePenalties(){this._redZonePenalties++}hasReachedMaxRedzonePenalties(){return this._redZonePenalties===this._MAX_REZONE_PENALTIES}getDownAndDistanceString(){const t=c.default.formatDown(this._currentDown),e=this._getLineToGainPoint(),a=c.default.formatYardsToGain(e,this._yardsToGet),n=c.default.formatRedZonePenalties(this._redZonePenalties);return`${t} & ${a} at ${c.default.formatPositionToMapHalf(this._los.x)}${this.getLOSYard()}${n}`}sendDownAndDistance(){const t=this.getDownAndDistanceString();l.default.send(t,{sound:0})}setTightEndPosition(t,e){p.default.setPlayerDiscProperties(t,e),P.default.game.moveTightEndDiscs(e)}setPlayers(){function t(t){const e=(0,h.getRandomIntInRange)(f.MAP_POINTS.TOP_HASH,f.MAP_POINTS.BOT_HASH),a={x:(new u.default).subtractByTeam(this.getLOS().x,10*f.MAP_POINTS.YARD,t.team).calculate(),y:e,xspeed:0,yspeed:0};if(P.default.game.checkIfPlayerIsTightEnd(t.id))return this.setTightEndPosition(t.id,a);p.default.setPlayerDiscProperties(t.id,a)}P.default.game.players.getFielded().forEach((e=>{if(!P.default.game.players.playerPositionsMap.has(e.id))return t.bind(this,e)();const{position:a}=P.default.game.players.playerPositionsMap.get(e.id),n={x:(new u.default).subtractByTeam(this.getLOS().x,7*f.MAP_POINTS.YARD,e.team).calculate(),y:a.y,xspeed:0,yspeed:0};if(P.default.game.checkIfPlayerIsTightEnd(e.id))return this.setTightEndPosition(e.id,n);p.default.setPlayerDiscProperties(e.id,n)}))}setBallAndFieldMarkersPlayEnd(){this.moveFieldMarkers();const t=this.getSnapPosition();d.default.setPosition(t),d.default.suppress()}hardSetPlayers(){P.default.game.players.getFielded().forEach((t=>{const e=(new u.default).subtractByTeam(this.getLOS().x,7*f.MAP_POINTS.YARD,t.team).calculate();if(P.default.game.checkIfPlayerIsTightEnd(t.id)){const a=p.default.getPlayerDiscProperties(t.id);return this.setTightEndPosition(t.id,{x:e,y:a.y})}p.default.setPlayerDiscProperties(t.id,{x:e,xspeed:0,yspeed:0})}))}hardReset(){var t;null===(t=P.default.game.play)||void 0===t||t.terminatePlayDuringError(),P.default.game.setTightEnd(null),this.sendDownAndDistance(),this.setPlayers(),P.default.game.endPlay(),this.setBallAndFieldMarkersPlayEnd(),P.default.game.startSnapDelay()}setPreviousDownAsCurrentDown(){this.previousDown={down:this._currentDown,yardsToGet:this._yardsToGet,losX:this._los.x}}resetAfterDown(){return r(this,void 0,void 0,(function*(){this.sendDownAndDistance(),P.default.game.endPlay(),yield(0,h.sleep)(500),this.setBallAndFieldMarkersPlayEnd(),P.default.game.startSnapDelay(),this.setPlayers(),this._setPuntIfFourthAndLong()}))}resetAfterScore(){P.default.game.endPlay()}moveFieldMarkers(t={}){return this._moveLOSMarkers(),this._moveLineToGainMarkers(t),this}maybeMovePlayerBehindLosOnField(t){if(P.default.game.play)return;const e={x:(new u.default).subtractByTeam(this.getLOS().x,15*f.MAP_POINTS.YARD,t.team).calculate(),xspeed:0,yspeed:0};p.default.setPlayerDiscProperties(t.id,e)}_setPuntIfFourthAndLong(){return r(this,void 0,void 0,(function*(){if(4!==this.getDown())return;if(y.default.getMapHalfFromPoint(this._los.x)!==P.default.game.offenseTeamId)return;if(P.default.game.getTimeRounded()>360)return;if(this.getYardsToGet()<15)return;(0,g.quickPause)(),yield(0,h.sleep)(100),l.default.send("⚠️ Automatic punt! 4th & LONG");const t=P.default.game.players.getOffense(),e=()=>{const e=t[0];return P.default.game.setPlay(new m.default(P.default.game.getTimeRounded(),e),e)},a=t.map((t=>{if(!P.default.game.players.playerPositionsMap.has(t.id))return null;const{position:e}=P.default.game.players.playerPositionsMap.get(t.id);return e})).filter((t=>null!==t));if(0===a.length)return e();const{index:n}=y.default.getClosestPositionToOtherPosition(a,this.getSnapPosition());if(-1===n)return e();const s=t[n];P.default.game.setPlay(new m.default(P.default.game.getTimeRounded(),s),s)}))}_moveLOSMarkers(){p.default.setDiscProperties(f.DISC_IDS.LOS_TOP,{x:this._los.x}),p.default.setDiscProperties(f.DISC_IDS.LOS_BOT,{x:this._los.x})}_moveLineToGainMarkers(t={}){const e=this._getLineToGainPoint(),a=!t.hideLineToGain&&!(e<=f.MAP_POINTS.RED_GOAL_LINE||e>=f.MAP_POINTS.BLUE_GOAL_LINE)&&(P.default.game.play,1)?e:f.MAP_POINTS.HIDDEN;p.default.setDiscProperties(f.DISC_IDS.LTG_TOP,{x:a,y:f.MAP_POINTS.TOP_SIDELINE}),p.default.setDiscProperties(f.DISC_IDS.LTG_BOT,{x:a,y:f.MAP_POINTS.BOT_SIDELINE})}_getLineToGainPoint(){return(new u.default).addByTeam(this._los.x,f.MAP_POINTS.YARD*this._yardsToGet,P.default.game.offenseTeamId).calculate()}}e.default=_,_.CONFIG={DEFAULT_YARDS_TO_GET:20}},4131:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(5198)),i=n(a(5693)),r=n(a(1858)),o=n(a(3445)),l=n(a(3217)),d=a(2781),u=n(a(4340)),c=a(3279),f=n(a(9072)),h=n(a(5072)),m=a(4798);class y extends h.default{constructor(){super(),this.score={red:0,blue:0},this.redTeamName="Red",this.blueTeamName="Blue",this.offenseTeamId=1,this.timeOuts=[],this.play=null,this.down=new f.default,this.players=new o.default,this.stats=new l.default,this._canStartSnapPlay=!0,this._isPaused=!1,this._tightEndId=null,this._isActive=!0,this.updateStaticPlayers()}setIsPaused(t){this._isPaused=t}get isPaused(){return this._isPaused}get isActive(){return this._isActive}getTightEnd(){return this._tightEndId}setTightEnd(t){const e=this._tightEndId;if(this._tightEndId=t,null===t)return this._resetPlayersPhysics(e),void this.moveTightEndDiscs({x:m.MAP_POINTS.HIDDEN,y:0});this._tightEndId=t,this._setTightEndPhysicsAndDiscs(t)}updateStaticPlayers(){this.players.updateStaticPlayerList(this.offenseTeamId)}get defenseTeamId(){return 1===this.offenseTeamId?2:1}get canStartSnapPlay(){return this._canStartSnapPlay}setOffenseTeam(t){this.offenseTeamId=t}swapOffenseAndUpdatePlayers(){1===this.offenseTeamId?this.setOffenseTeam(2):this.setOffenseTeam(1),this.setTightEnd(null),this.players.updateStaticPlayerList(this.offenseTeamId)}addTeamTimeOut(t){this.timeOuts.push({time:this.getTimeRounded(),team:t})}startSnapDelay(){this._canStartSnapPlay=!1,this._isPaused?setTimeout((()=>{this._canStartSnapPlay=!0}),4e3):setTimeout((()=>{this._canStartSnapPlay=!0}),2e3)}setPlay(t,e){null==t||t.validateBeforePlayBegins(e),this.play=t,this.play.prepare(),this.clearState(),r.default.game.down.setPreviousDownAsCurrentDown(),this.play.run()}endPlay(){var t;null===(t=this.play)||void 0===t||t.cleanUp(),this._resetAllPlayersPhysics(),this.play=null}endGame(){this._isActive=!1;const t=this.stats.getMVP();t&&this.sendManOfTheMatch(t.recordId,t.pointTotal)}setScore(t,e){return t===c.TEAMS.RED?this.score.red=e:this.score.blue=e,this}addScore(t,e){return t===c.TEAMS.RED?this.score.red+=e:this.score.blue+=e,this}getTime(){var t,e;return null!==(e=null===(t=s.default.getScores())||void 0===t?void 0:t.time)&&void 0!==e?e:0}getTimeRounded(){return Math.round(this.getTime())}getClock(){const t=this.getTime();return(0,d.toClock)(t)}getScoreBoardStr(){return`${u.default.RedSquare} ${this.score.red} -  ${this.score.blue} ${u.default.BlueSquare}`}sendScoreBoard(){i.default.send(this.getScoreBoardStr())}sendManOfTheMatch(t,e){const a=this.players.records.get(t);a&&i.default.send(`${u.default.Star} MVP: ${a.name} | ${e} points`)}_resetPlayersPhysics(t){this.checkIfPlayerIsTightEnd(t)||s.default.setPlayerDiscProperties(t,{bCoeff:.75,invMass:.8,radius:m.MAP_POINTS.PLAYER_RADIUS})}_resetAllPlayersPhysics(){r.default.players.getFielded().forEach((t=>{this._resetPlayersPhysics(t.id),s.default.setPlayerAvatar(t.id,null)}))}_setTightEndPhysicsAndDiscs(t){s.default.setPlayerDiscProperties(t,{radius:m.MAP_POINTS.TE_PLAYER_RADIUS,invMass:.35});const{position:e}=(0,d.getPlayerDiscProperties)(t);this.moveTightEndDiscs(e)}checkIfPlayerIsTightEnd(t){return this._tightEndId===t}moveTightEndDiscs(t){m.DISC_IDS.TE.forEach(((e,a)=>0===a?s.default.setDiscProperties(e,t):1===a?s.default.setDiscProperties(e,{x:t.x,y:t.y+13}):2===a?s.default.setDiscProperties(e,{x:t.x-13,y:t.y}):3===a?s.default.setDiscProperties(e,{x:t.x,y:t.y-13}):4===a?s.default.setDiscProperties(e,{x:t.x+13,y:t.y}):void 0))}checkIfTightEndSwitchedTeamsOrLeft(t){t===this._tightEndId&&this.setTightEnd(null)}}e.default=y},1842:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(5198)),i=a(7701),r=n(a(1858)),o=a(2665);e.default=class{constructor({name:t,id:e,auth:a,conn:n}){this.isAFK=!1,this.canPlay=!0,this.name=t.trim(),this.id=e,this.auth=i.SHOW_DEBUG_CHAT?(0,o.getRandomChars)(6):a,this._adminLevel=0,this.ip=i.SHOW_DEBUG_CHAT?(0,o.getRandomChars)(6):n}setCanPlay(t){this.canPlay=t}get team(){const t=s.default.getPlayer(this.id);return t?t.team:null}get position(){const t=s.default.getPlayer(this.id);return t?t.position:null}get adminLevel(){const t=this._adminLevel;return 0===t?this.isAdmin?1:0:t}get playerObject(){return s.default.getPlayer(this.id)}get lowerName(){return this.name.toLowerCase()}get shortName(){return(0,o.truncateName)(this.name)}get isMuted(){return r.default.players.muted.mutedCollection.has(this.auth)}get isAdmin(){const t=s.default.getPlayer(this.id);return!!t&&t.admin}setAdmin(t){return s.default.setPlayerAdmin(this.id,t),this}setAdminLevel(t){return this._adminLevel=t,this}setTeam(t){s.default.getPlayer(this.id)&&s.default.setPlayerTeam(this.id,t)}canModerate(t){return this.adminLevel>t.adminLevel}setAFK(t){this.isAFK=t}}},1252:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0});const n=a(2781);e.default=class{constructor(t,e,a,s,i){this.player=(0,n.flattenPlayer)(t),this.playerPosition=e,this.playerSpeed=a,this.ballCarrierPosition=s,this.ballCarrierSpeed=i}}},5145:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_MAP_SECTION_STAT=void 0;const s=n(a(4340)),i=a(2665);class r{constructor(){this.cornerTop=0,this.cornerBottom=0,this.middle=0,this.deep=0,this.backwards=0}get all(){return(0,i.sumObjectValues)(this)}}e.EMPTY_MAP_SECTION_STAT=r,e.default=class{constructor(t){this.receptions=new r,this.receivingYards=new r,this.receivingYardsAfterCatch=new r,this.rushingAttempts=0,this.rushingYards=0,this.touchdownsReceived=0,this.touchdownsRushed=0,this.passAttempts=new r,this.passCompletions=new r,this.passYards=new r,this.passYardsDistance=new r,this.touchdownsThrown=0,this.interceptionsThrown=0,this.qbSacks=0,this.distanceMovedBeforePassArr=[],this.timeToPassArr=[],this.curvedPassAttempts=0,this.curvedPassCompletions=0,this.passDeflections=new r,this.tackles=0,this.yardsAllowed=new r,this.sacks=0,this.forcedFumbles=0,this.interceptionsReceived=0,this.specReceptions=0,this.specReceivingYards=0,this.specTouchdowns=0,this.specTackles=0,this.fgAttempts=0,this.fgYardsAttempted=0,this.fgMade=0,this.fgYardsMade=0,this.timePlayed=0,this.fumbles=0,this.penalties=0,this.onsideKicksAttempted=0,this.onsideKicksConverted=0,this.recordId=t}get totalReceptions(){return(0,i.sumObjectValues)(this.receptions)}get cornerReceptions(){return this.receptions.cornerBottom+this.receptions.cornerTop}get totalReceivingYards(){return(0,i.sumObjectValues)(this.receivingYards)}get cornerReceivingYards(){return this.receivingYards.cornerBottom+this.receivingYards.cornerTop}get totalYardsAfterCatch(){return(0,i.sumObjectValues)(this.receivingYardsAfterCatch)}get totalPassAttempts(){return(0,i.sumObjectValues)(this.passAttempts)}get cornerPassAttempts(){return this.passAttempts.cornerBottom+this.passAttempts.cornerTop}get totalPassCompletions(){return(0,i.sumObjectValues)(this.passCompletions)}get cornerPassCompletions(){return this.passCompletions.cornerBottom+this.passCompletions.cornerTop}get totalPassYards(){return(0,i.sumObjectValues)(this.passYards)}get cornerPassYards(){return this.passYards.cornerBottom+this.passYards.cornerTop}get totalPassDeflections(){return(0,i.sumObjectValues)(this.passDeflections)}get cornerPassDeflections(){return this.passDeflections.cornerBottom+this.passDeflections.cornerTop}get totalYardsAllowed(){return(0,i.sumObjectValues)(this.yardsAllowed)}get cornerYardsAllowed(){return this.yardsAllowed.cornerBottom+this.yardsAllowed.cornerTop}get distanceMovedBeforePass(){return(0,i.averageOfArray)(this.distanceMovedBeforePass)}get timeToPass(){return(0,i.averageOfArray)(this.timeToPassArr)}_calculatePasserRating(){if(0===this.totalPassAttempts)return 0;const t=(0,i.limitNumberWithinRange)(5*(this.totalPassCompletions/this.totalPassAttempts-.3),0,2.375),e=(0,i.limitNumberWithinRange)(.25*(this.totalPassYards/this.totalPassAttempts-3),0,2.375),a=(0,i.limitNumberWithinRange)(this.touchdownsThrown/this.totalPassAttempts*20,0,2.375),n=(0,i.limitNumberWithinRange)(2.375-this.interceptionsThrown/this.totalPassAttempts*25,0,2.375);return(0,i.round)((t+e+a+n)/6*100,2)}updateStats(t){Object.entries(t).forEach((t=>{const[e,a]=t,n=(0,i.isObject)(a),s=Array.isArray(a);n?Object.entries(a).forEach((t=>{const[a,n]=t;this[`${e}`][a]+=n})):s?this[`${e}`].push(a[0]):this[`${e}`]+=a}))}getStatsStringNormal(){return`Receiving | Rec: ${this.totalReceptions} ${s.default.SmallBlackSquare} Yds: ${this.totalReceivingYards} ${s.default.SmallBlackSquare} Yac: ${this.totalYardsAfterCatch} ${s.default.SmallBlackSquare} Ratt: ${this.rushingAttempts} ${s.default.SmallBlackSquare} Ruyd: ${this.rushingYards} | TD: ${this.touchdownsReceived} ${s.default.SmallBlackSquare} RuTD: ${this.touchdownsRushed}\nPassing | Cmp/Att: ${this.totalPassCompletions}/${this.totalPassAttempts} ${s.default.SmallBlackSquare} Pyds: ${this.totalPassYards} | TD: ${this.touchdownsThrown} ${s.default.SmallBlackSquare} Ints: ${this.interceptionsThrown} ${s.default.SmallBlackSquare} Rating: ${this._calculatePasserRating()}\nDefense | PD: ${this.totalPassDeflections} ${s.default.SmallBlackSquare} Tak: ${this.tackles} ${s.default.SmallBlackSquare} Sak: ${this.sacks} ${s.default.SmallBlackSquare} Ints: ${this.interceptionsReceived} ${s.default.SmallBlackSquare} YdsAllowed: ${this.totalYardsAllowed}`}getStatsStringMini(){return[this.totalReceptions>0?`Rec: ${this.totalReceptions} | RecYds: ${this.totalReceivingYards}`:null,this.touchdownsReceived>0?`RecTds: ${this.touchdownsReceived}`:null,this.totalPassAttempts>0?`Att: ${this.totalPassAttempts} (${this.cornerPassAttempts}-${this.passAttempts.middle}-${this.passAttempts.deep}) | Cmp: ${this.totalPassCompletions} (${this.cornerPassCompletions}-${this.passCompletions.middle}-${this.passCompletions.deep}) | QbYds: ${this.totalPassYards} (${this.cornerPassYards}-${this.passYards.middle}-${this.passYards.deep})`:null,this.touchdownsThrown>0?`qbTds: ${this.touchdownsThrown}`:null,this.interceptionsThrown>0?`Int: ${this.interceptionsThrown}`:null,this.totalPassDeflections>0||this.tackles>0?`PD: ${this.totalPassDeflections} | Tak: ${this.tackles}`:null].filter((t=>null!==t)).join(" | ")}getStatsStringFull(){return console.log(this),`Rec: ${this.totalReceptions} (${this.cornerReceptions}-${this.receptions.middle}-${this.receptions.middle}) | RecYds: ${this.totalReceivingYards} (${this.cornerReceivingYards}-${this.receivingYards.middle}-${this.receivingYards.deep}) | RecTds: ${this.touchdownsReceived} | RushTds: ${this.touchdownsRushed} | Rush: ${this.rushingAttempts} | RushYds: ${this.rushingYards}\nAtt: ${this.totalPassAttempts} (${this.cornerPassAttempts}-${this.passAttempts.middle}-${this.passAttempts.deep}) | Cmp: ${this.totalPassCompletions} (${this.cornerPassCompletions}-${this.passCompletions.middle}-${this.passCompletions.deep}) | QbYds: ${this.totalPassYards} (${this.cornerPassYards}-${this.passYards.middle}-${this.passYards.deep}) | qbTds: ${this.touchdownsThrown} | Int: ${this.interceptionsThrown}\nPD: ${this.totalPassDeflections} (${this.cornerPassDeflections}-${this.passDeflections.middle}-${this.passDeflections.deep}) | Tak: ${this.tackles} | YardsAllowed: ${this.totalYardsAllowed} (${this.cornerYardsAllowed}-${this.yardsAllowed.middle}-${this.yardsAllowed.deep}) | FdFum: ${this.forcedFumbles} | IntR: ${this.interceptionsReceived} | Sak: ${this.sacks}`}}},5072:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(7701),i=n(a(5693));e.default=class{constructor(){this._stateStore={}}setState(t,e=!0){this._stateStore[t]=e,s.SHOW_DEBUG_CHAT&&i.default.send(`StateChange: ${String(t)}`,{color:16772956})}getState(t){if(void 0===this._stateStore[t])throw Error(`State: ${String(t)} was not found using the getState method. Only use getState when the state is defined, use stateExists to check if a state exists `);return this._stateStore[t]}deleteState(t){s.SHOW_DEBUG_CHAT&&i.default.send(`State delete: ${String(t)}`,{color:16772956}),delete this._stateStore[t]}stateExists(t){return this._stateStore.hasOwnProperty(t)}stateExistsUnsafe(t){return this._stateStore.hasOwnProperty(t)}clearState(){this._stateStore={}}readAllState(){return this._stateStore}}},7202:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CommandError=void 0;const s=n(a(5693)),i=n(a(1858)),r=a(2665),o=a(8577);class l{constructor(t){this.errorMsg=t}}e.CommandError=l,e.default=class{constructor(t){this.commandMsg=t}static getPlayerByNameAlways(t){return i.default.players.getByName(t)}loadCommand(){const t=(0,o.getCommandByNameOrAlias)(this.commandMsg.commandName);return t?(this.command=t,!0):(this.command=null,!1)}_validateCommandPermissions(){var t,e;const{name:a,permissions:{level:n,muted:r,game:o,notDuringPlay:d}}=this.command;if(n>this.commandMsg.author.adminLevel){if(1===n)throw new l(`Command ${a} requires admin to use`);throw new l(`Command ${a} requires a higher admin level to use`)}if(!r&&this.commandMsg.author.isMuted||r&&s.default.silenced)throw new l(`You cannot use command ${a} while muted`);if(o&&(null===i.default.game||!1===(null===(t=i.default.game)||void 0===t?void 0:t.isActive)))throw new l(`Command ${a} requires a game to be in session`);if(d&&(null===(e=null===i.default||void 0===i.default?void 0:i.default.game)||void 0===e?void 0:e.play))throw new l(`Command ${a} cannot be run during a play`);return this}_checkPlayerParamType(){const t=i.default.players.getByName(this.commandMsg.commandParamsStr);if(console.log("CHECK PLAYER",t),null===t)throw new l(`Player ${this.commandMsg.commandParamsStr} does not exist in the room`);if(-1===t)throw new l(`Multiple players were found starting with the name ${this.commandMsg.commandParamsStr} in the room`)}_checkArrayParamTypes(t,e,a){const n=t.includes(e),s=t.join(" ");if(!n)throw new l(`The ${(0,r.toOrdinalSuffix)(a+1)} option to command ${this.command.name} must be one of the following: ${s}`)}_checkNumberParamType(t,e){const a=parseInt(t),n=!1===isNaN(a);if(console.log(n),!n)throw new l(`The ${(0,r.toOrdinalSuffix)(e+1)} option to command ${this.command.name} must be a number`)}_validateCommandParams(){const{name:t,params:{min:e,max:a,types:n,skipMaxCheck:s=!1}}=this.command,i=(0,r.plural)(e,"option","options"),d=(0,r.plural)(a,"option","options");if(this.commandMsg.commandParamsArray.length<e)throw new l(`Command ${t} requires ${i}.`);if(this.commandMsg.commandParamsArray.length>a&&!1===s){if(0===a)throw new l(`Command ${t} does not accept any options.`);if(!s)throw new l(`Command ${t} accepts only ${d}.`)}return 0===n.length||0===this.commandMsg.commandParamsArray.length||this.commandMsg.commandParamsArray.forEach(((t,e)=>{const a=this.command.params.types[e];if(a!==o.COMMAND_PARAM_TYPES.CUSTOM)return Array.isArray(a)?this._checkArrayParamTypes(a,t,e):a===o.COMMAND_PARAM_TYPES.PLAYER?this._checkPlayerParamType():a===o.COMMAND_PARAM_TYPES.NUMBER?this._checkNumberParamType(t,e):void 0})),this}validateAndRun(){this._validateCommandPermissions(),this._validateCommandParams(),this.command.run(this.commandMsg).catch((t=>{if(t instanceof l){const e=t;this.commandMsg.replyError(e.errorMsg)}else console.log(t),s.default.sendBotError(t.message)}))}}},8577:function(t,e,a){var n=this&&this.__createBinding||(Object.create?function(t,e,a,n){void 0===n&&(n=a);var s=Object.getOwnPropertyDescriptor(e,a);s&&!("get"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[a]}}),Object.defineProperty(t,n,s)}:function(t,e,a,n){void 0===n&&(n=a),t[n]=e[a]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)"default"!==a&&Object.prototype.hasOwnProperty.call(t,a)&&n(e,t,a);return s(e,t),e},r=this&&this.__awaiter||function(t,e,a,n){return new(a||(a=Promise))((function(s,i){function r(t){try{l(n.next(t))}catch(t){i(t)}}function o(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(r,o)}l((n=n.apply(t,e||[])).next())}))},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getCommandByNameOrAlias=e.getCommandsAccessibleToPlayer=e.COMMAND_PARAM_TYPES=void 0;const l=o(a(5693)),d=o(a(9972)),u=o(a(4064)),c=o(a(3517)),f=a(2781),h=o(a(4340)),m=a(2665),y=i(a(7202)),g=o(a(1858)),p=a(3279),P=o(a(5198));function _(t){return S.find().filter((e=>e.permissions.level<=t.adminLevel))}function v(t){var e,a;const n=null!==(e=S.get(t))&&void 0!==e?e:null,s=S.findOne({alias:[t]});return null!==(a=null!=n?n:s)&&void 0!==a?a:null}e.COMMAND_PARAM_TYPES={PLAYER:"Player name or ID",PLAYER_OR_USER:"Player or user,",NUMBER:"Number",CUSTOM:"Custom"},e.getCommandsAccessibleToPlayer=_,e.getCommandByNameOrAlias=v;const S=new c.default([["help",{name:"help",alias:[],description:"Returns the list of room commands or returns the description of a given command",usage:["help [commandName]"],showCommand:!1,permissions:{level:0,muted:!0,game:!1,notDuringPlay:!1},params:{min:0,max:1,types:[e.COMMAND_PARAM_TYPES.CUSTOM]},run(t){return r(this,void 0,void 0,(function*(){if(t.hasNoParams()){const e=_(t.author).map((t=>t.name)).join(", ");return void t.reply(`Commands: ${e}`)}const e=v(t.commandParamsStr);if(!e)throw new y.CommandError(`Command (${t.commandParamsStr}) does not exist`);const a=0===e.usage.length?`${e.name}`:e.usage.join(`, ${l.default.PREFIX.COMMAND}`),n=0===e.alias.length?"":` [${e.alias.join(", ")}] `;t.reply(`${e.name}${n}: ${e.description} | ${l.default.PREFIX.COMMAND}${a}`)}))}}],["commands",{name:"commands",alias:["cmds"],description:"Returns the list of room commands",usage:[],showCommand:!1,permissions:{level:0,muted:!0,game:!1,notDuringPlay:!1},params:{min:0,max:0,types:[]},run(t){return r(this,void 0,void 0,(function*(){const e=_(t.author).map((t=>t.name)).join(", ");t.reply(`Commands: ${e}`)}))}}],["info",{name:"info",alias:[],description:"Returns helpful command info",usage:[],showCommand:!1,permissions:{level:0,muted:!0,game:!1,notDuringPlay:!1},params:{min:0,max:0,types:[]},run(t){return r(this,void 0,void 0,(function*(){t.reply("cp | Curved pass\n!setlos (yard) | Sets the line of scrimmage position\n!setdown (down) (yard) | Sets the down and distance \n!setscore (team) (score) | Sets the score of a team\n!setplayers | Sets the players in front of ball | !dd | Returns the down and distance \n!swapo | Swaps offense and defense")}))}}],["discord",{name:"discord",alias:[],description:"Returns the discord server link",usage:[],showCommand:!1,permissions:{level:0,muted:!0,game:!1,notDuringPlay:!1},params:{min:0,max:0,types:[]},run(t){return r(this,void 0,void 0,(function*(){t.reply("Discord: discord.gg/VdrD2p7")}))}}],["rules",{name:"rules",alias:[],description:"Returns the rules of the game",usage:[],showCommand:!1,permissions:{level:0,muted:!0,game:!1,notDuringPlay:!1},params:{min:0,max:0,types:[]},run(t){return r(this,void 0,void 0,(function*(){t.reply(`Rules of the game\n${h.default.SmallBlackSquare} Offense | One player is a passer, while the rest of the team runs to get open for a catch. Catch the ball by touching it after a pass and run to the opposing team's goal.\n${h.default.SmallBlackSquare} Defense | Guard the receivers and prevent them from catching the ball. Defense has to be behind the blue line at all times.`)}))}}],["cre",{name:"cre",alias:[],description:"Explains crowding",usage:[],showCommand:!1,permissions:{level:1,muted:!0,game:!1,notDuringPlay:!1},params:{min:0,max:0,types:[]},run(t){return r(this,void 0,void 0,(function*(){t.announce("You cannot stand in front of the blue line for more than 3 seconds without an offensive player being present.")}))}}],["stats",{name:"stats",alias:[],description:"Returns your stats or the stats of another player",usage:["stats","stats tda"],showCommand:!1,permissions:{level:0,muted:!0,game:!1,notDuringPlay:!1},params:{skipMaxCheck:!0,min:0,max:1,types:[e.COMMAND_PARAM_TYPES.PLAYER]},run(t){var e,a;return r(this,void 0,void 0,(function*(){if(null===g.default.game)throw new y.CommandError("No game in progress");if(t.hasNoParams()){const a=g.default.game.players.records.get(t.author.id),n=g.default.game.stats.statsCollection.get(null!==(e=null==a?void 0:a.recordId)&&void 0!==e?e:0);if(!a||!n)throw new y.CommandError("You do not have any stats yet");const s=n.getStatsStringNormal();return void t.reply(`${s}`,{autoSize:!1})}const n=y.default.getPlayerByNameAlways(t.commandParamsStr),s=g.default.game.players.records.get(n.id),i=g.default.game.stats.statsCollection.get(null!==(a=null==s?void 0:s.recordId)&&void 0!==a?a:0);if(!i||!s)throw new y.CommandError(`Player ${n.shortName} does not have any stats yet`);const r=i.getStatsStringNormal();t.reply(`Stats ${n.shortName}\n${r}`,{autoSize:!1})}))}}],["score",{name:"score",alias:[],description:"Returns the score of the current game",usage:[],showCommand:!1,permissions:{level:0,muted:!0,game:!0,notDuringPlay:!1},params:{skipMaxCheck:!1,min:0,max:0,types:[]},run(t){return r(this,void 0,void 0,(function*(){const e=g.default.game.getScoreBoardStr();t.reply(e)}))}}],["setscore",{name:"setscore",alias:["ss"],description:"Sets the score for a team",usage:["setscore blue 7","setscore r 10"],showCommand:!0,permissions:{level:1,muted:!0,game:!0,notDuringPlay:!1},params:{skipMaxCheck:!1,min:2,max:2,types:[["blue","b","red","r"],e.COMMAND_PARAM_TYPES.NUMBER]},run(t){return r(this,void 0,void 0,(function*(){const[e,a]=t.commandParamsArray,n=Math.round(parseInt(a));if(n>100)throw new y.CommandError("Score exceeds limit");if(n<0)throw new y.CommandError("Score must be a positive integer");const s="blue"===e||"b"===e;("red"===e||"r"===e)&&g.default.game.setScore(p.TEAMS.RED,n),s&&g.default.game.setScore(p.TEAMS.BLUE,n),t.announce(`Score updated by ${t.author.shortName}`),g.default.game.sendScoreBoard()}))}}],["setlos",{name:"setlos",alias:["sl"],description:"Sets the line of scrimmage position",usage:["setlos blue 7","sl r 38"],showCommand:!0,permissions:{level:1,muted:!0,game:!0,notDuringPlay:!0},params:{skipMaxCheck:!1,min:2,max:2,types:[["blue","b","red","r"],e.COMMAND_PARAM_TYPES.NUMBER]},run(t){return r(this,void 0,void 0,(function*(){const[e,a]=t.commandParamsArray,n=Math.round(parseInt(a));if(n>50||n<1)throw new y.CommandError("Yardage must be a number between 1 and 50");const s="red"===e||"r"===e?p.TEAMS.RED:p.TEAMS.BLUE,i=u.default.getPositionOfTeamYard(n,s);g.default.game.down.setLOS(i),g.default.game.down.setBallAndFieldMarkersPlayEnd(),g.default.game.down.hardSetPlayers(),t.announce(`LOS moved by ${t.author.shortName}`),g.default.game.down.sendDownAndDistance()}))}}],["revert",{name:"revert",alias:["rv"],description:"Reverts the LOS, down, and distance",usage:[],showCommand:!0,permissions:{level:1,muted:!0,game:!0,notDuringPlay:!0},params:{skipMaxCheck:!1,min:0,max:0,types:[]},run(t){return r(this,void 0,void 0,(function*(){const{down:e,losX:a,yardsToGet:n}=g.default.game.down.previousDown;g.default.game.down.setDown(e),g.default.game.down.setYardsToGet(n),g.default.game.down.setLOS(a),g.default.game.down.setBallAndFieldMarkersPlayEnd(),g.default.game.down.hardSetPlayers(),t.announce(`Play reverted by ${t.author.shortName}`),g.default.game.down.sendDownAndDistance()}))}}],["setplayers",{name:"setplayers",alias:["setp","gfi"],description:"Sets the players in front of the LOS",usage:[],showCommand:!0,permissions:{level:0,muted:!0,game:!0,notDuringPlay:!0},params:{skipMaxCheck:!1,min:0,max:0,types:[]},run(t){return r(this,void 0,void 0,(function*(){g.default.game.down.hardSetPlayers(),t.replySuccess("Players set!")}))}}],["setdown",{name:"setdown",alias:["sd"],description:"Sets the down and distance",usage:["setdown 2 15","sd 4"],showCommand:!0,permissions:{level:1,muted:!0,game:!0,notDuringPlay:!0},params:{skipMaxCheck:!1,min:1,max:2,types:[e.COMMAND_PARAM_TYPES.NUMBER,e.COMMAND_PARAM_TYPES.NUMBER]},run(t){return r(this,void 0,void 0,(function*(){const[e,a="USE CURRENT DISTANCE"]=t.commandParamsArray,n=Math.round(parseInt(e)),s="USE CURRENT DISTANCE"===a?g.default.game.down.getYardsToGet():Math.round(parseInt(a));if(n>4||n<1)throw new y.CommandError("Down must be a number between 1 and 4");if(s>99||s<1)throw new y.CommandError("Distance must be a number between 1 and 99");g.default.game.down.setDown(n),g.default.game.down.setYardsToGet(s),g.default.game.down.setBallAndFieldMarkersPlayEnd(),t.announce(`Down and Distance updated by ${t.author.shortName}`),g.default.game.down.sendDownAndDistance()}))}}],["swap",{name:"swap",alias:[],description:"Swaps red and blue",usage:[],showCommand:!0,permissions:{level:1,muted:!0,game:!1,notDuringPlay:!0},params:{skipMaxCheck:!1,min:0,max:0,types:[]},run(t){return r(this,void 0,void 0,(function*(){const e=g.default.players.getRed(),a=g.default.players.getBlue();e.forEach((t=>{t.setTeam(p.TEAMS.BLUE)})),a.forEach((t=>{t.setTeam(p.TEAMS.RED)})),t.announce("Teams swapped")}))}}],["swapo",{name:"swapo",alias:[],description:"Swaps offense and defense",usage:[],showCommand:!0,permissions:{level:1,muted:!1,game:!1,notDuringPlay:!0},params:{skipMaxCheck:!1,min:0,max:0,types:[]},run(t){return r(this,void 0,void 0,(function*(){g.default.game.swapOffenseAndUpdatePlayers(),g.default.game.down.setBallAndFieldMarkersPlayEnd();const e=g.default.game.offenseTeamId,a=(0,f.getTeamStringFromId)(e);t.announce(`Offense swapped by ${t.author.shortName}, ${a} is now on offense`),g.default.game.down.sendDownAndDistance()}))}}],["dd",{name:"dd",alias:[],description:"Shows the down and distance",usage:[],showCommand:!0,permissions:{level:0,muted:!0,game:!0,notDuringPlay:!1},params:{skipMaxCheck:!1,min:0,max:0,types:[]},run(t){return r(this,void 0,void 0,(function*(){const e=g.default.game.down.getDownAndDistanceString();t.reply(e)}))}}],["release",{name:"release",alias:[],description:"Releases the ball",usage:[],showCommand:!0,permissions:{level:1,muted:!0,game:!0,notDuringPlay:!1},params:{skipMaxCheck:!1,min:0,max:0,types:[]},run(t){return r(this,void 0,void 0,(function*(){d.default.release(),t.replySuccess("Ball released")}))}}],["reset",{name:"reset",alias:[],description:"Resets all variables and removes the current play",usage:[],showCommand:!0,permissions:{level:1,muted:!0,game:!0,notDuringPlay:!1},params:{skipMaxCheck:!1,min:0,max:0,types:[]},run(t){return r(this,void 0,void 0,(function*(){g.default.game.down.hardReset(),l.default.sendAnnouncement(`Hard reset ran by ${t.author.shortName}`)}))}}],["mute",{name:"mute",alias:["m"],description:"Mutes a player",usage:["mute [name]"],showCommand:!0,permissions:{level:1,muted:!0,game:!1,notDuringPlay:!1},params:{min:1,max:1,types:[e.COMMAND_PARAM_TYPES.PLAYER]},run:function(t){return r(this,void 0,void 0,(function*(){const e=y.default.getPlayerByNameAlways(t.commandParamsStr);if(e.isMuted)throw new y.CommandError(`${e.shortName} is already muted`);if(!t.author.canModerate(e))throw new y.CommandError("You cannot mute an admin");g.default.players.muted.addMute(e),t.announce(`${e.shortName} has been muted by ${t.author.shortName}`,{icon:h.default.Mute})}))}}],["unmute",{name:"unmute",alias:["um"],description:"Unmutes a player",usage:["unmute [name]"],showCommand:!0,permissions:{level:1,muted:!0,game:!1,notDuringPlay:!1},params:{min:1,max:1,types:[e.COMMAND_PARAM_TYPES.PLAYER]},run:function(t){return r(this,void 0,void 0,(function*(){const e=y.default.getPlayerByNameAlways(t.commandParamsStr);if(!1===e.isMuted)throw new y.CommandError(`Player ${e.shortName} is not muted`);g.default.players.muted.removeMute(e.auth),t.announce(`${e.shortName} has been unmuted`)}))}}],["flip",{name:"flip",alias:["coinflip","cointoss"],description:"Flips a coin",usage:[],showCommand:!0,permissions:{level:0,muted:!1,game:!1,notDuringPlay:!1},params:{skipMaxCheck:!1,min:0,max:0,types:[]},run(t){return r(this,void 0,void 0,(function*(){const t=(0,m.getRandomInt)(100)>50?"Heads":"Tails";l.default.sendAnnouncement(`Coin Flip: ${t}`)}))}}],["status",{name:"status",alias:["botstatus"],description:"Returns the status of the bot, either on or off",usage:[],showCommand:!0,permissions:{level:0,muted:!1,game:!1,notDuringPlay:!1},params:{skipMaxCheck:!1,min:0,max:0,types:[]},run(t){return r(this,void 0,void 0,(function*(){const{isBotOn:e}=g.default;if(e)return t.reply(`${h.default.GreenSquare} The Bot is currently ON`);t.reply(`${h.default.RedSquare} The Bot is currently OFF`)}))}}],["bot",{name:"bot",alias:[],description:"Turns the bot on or off",usage:["bot on","bot off"],showCommand:!0,permissions:{level:1,muted:!1,game:!1,notDuringPlay:!1},params:{skipMaxCheck:!1,min:1,max:1,types:[["on","off"]]},run(t){return r(this,void 0,void 0,(function*(){const[e]=t.commandParamsArray,{isBotOn:a}=g.default;return"on"===e?a?t.reply("The bot is already ON"):(P.default.stopGame(),g.default.turnBotOn(),t.replySuccess("The Bot has been turned ON")):a?(P.default.stopGame(),g.default.turnBotOff(),t.replySuccess("The Bot has been turned OFF")):t.reply("The bot is already OFF")}))}}],["testingid",{name:"testingid",alias:[],description:"Sets the testing ID for debug chat",usage:[],showCommand:!1,permissions:{level:3,muted:!0,game:!1,notDuringPlay:!1},params:{min:1,max:1,types:[e.COMMAND_PARAM_TYPES.NUMBER]},run(t){return r(this,void 0,void 0,(function*(){console.log(g.default),g.default.setPlayerTestingId(parseInt(t.commandParamsStr)),t.replySuccess("Testing id set")}))}}],["admin",{name:"admin",alias:[],description:"Sets the player as a Bot Admin using an admin code",usage:["admin [code]"],showCommand:!1,permissions:{level:0,muted:!0,game:!1,notDuringPlay:!1},params:{min:1,max:1,types:[e.COMMAND_PARAM_TYPES.CUSTOM]},run(t){return r(this,void 0,void 0,(function*(){if(t.commandParamsStr!==g.default.sessionId)throw new y.CommandError("Invalid Admin Code");t.author.setAdminLevel(3).setAdmin(!0),t.replySuccess("You are now the Bot Admin",{color:16766758})}))}}]]);e.default=S},5256:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GameCommandError=void 0;const s=n(a(1858)),i=a(3279);class r{constructor(t,e){this.message=t,this.sendToPlayer=e}}e.GameCommandError=r,e.default=class{constructor(t,e){this.chatObj=t,this.gameCommand=e}_validateBotAndGame(){if(!1===s.default.isBotOn)throw new r("Bot is not on",!1);if(!s.default.game)throw new r("No game in progess",!1);if(s.default.game.isPaused)throw new r("Game is paused",!0)}_validateGameCommandProps(){if(this.chatObj.author.team===i.TEAMS.SPECTATORS)throw new r("You are not on the field",!1);const t=this.chatObj.author.team===s.default.game.offenseTeamId;if(this.gameCommand.permissions.onlyOffense&&!1===t)throw new r("You are not on offense",!0);if(this.gameCommand.permissions.adminLevel>this.chatObj.author.adminLevel)throw new r("Too low admin level to use that command",!0)}_validatePlay(){if(Boolean(s.default.game.play)&&this.gameCommand.permissions.onlyDuringNoPlay)throw new r("There is already a play in progress",!0);if(s.default.game.stateExists("twoPointAttempt")&&!1===Boolean(this.gameCommand.permissions.canRunDuringTwoPointAttempt))throw new r("Cannot be called during a two point attempt",!0)}validateAndRun(){this._validateBotAndGame(),this._validateGameCommandProps(),this._validatePlay(),this.gameCommand.run(this.chatObj.author)}}},4999:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(4432)),i=n(a(432)),r=n(a(5961)),o=n(a(2369)),l=n(a(9972)),d=n(a(5693)),u=n(a(1858)),c=n(a(4064)),f=n(a(7117)),h=n(a(4340)),m=a(5256),y=new Map([["hike",{showCommand:!0,permissions:{adminLevel:0,onlyOffense:!0,onlyDuringNoPlay:!0,canRunDuringTwoPointAttempt:!0},run(t){u.default.game.setPlay(new o.default(u.default.game.getTimeRounded(),t.playerObject),t.playerObject)}}],["cp",{showCommand:!1,permissions:{adminLevel:0,onlyOffense:!0,onlyDuringNoPlay:!0,canRunDuringTwoPointAttempt:!0},run(t){u.default.game.setState("curvePass"),u.default.game.players.getOffense().forEach((t=>{d.default.send(`${h.default.Frisbee} Curve pass enabled`,{id:t.id,color:f.default.Gray})}))}}],["tei",{showCommand:!1,permissions:{adminLevel:0,onlyOffense:!0,onlyDuringNoPlay:!0,canRunDuringTwoPointAttempt:!0},run(t){const e=u.default.game.getTightEnd();if(null!==e){if(e===t.id)return u.default.game.setTightEnd(null),void d.default.send("You are no longer the Tight End",{color:f.default.Gray,id:t.id});const a=u.default.players.playerCollection.get(e);if(!a)throw Error("Could not find tight end profile");throw new m.GameCommandError(`${a.shortName} is already the Tight End`,!0)}u.default.game.setTightEnd(t.id),u.default.game.players.getOffense().forEach((e=>{d.default.send(`${h.default.Lightning} ${t.shortName} is the Tight End`,{id:e.id,color:f.default.Gray})}))}}],["fg",{showCommand:!0,permissions:{adminLevel:0,onlyOffense:!0,onlyDuringNoPlay:!0},run(t){u.default.game.setPlay(new s.default(u.default.game.getTimeRounded(),t.playerObject),t.playerObject)}}],["punt",{showCommand:!0,permissions:{adminLevel:0,onlyOffense:!0,onlyDuringNoPlay:!0},run(t){u.default.game.setPlay(new r.default(u.default.game.getTimeRounded(),t.playerObject),t.playerObject)}}],["2pt",{showCommand:!0,permissions:{adminLevel:0,onlyOffense:!0,onlyDuringNoPlay:!0,canRunDuringTwoPointAttempt:!0},run(t){if(!u.default.game.stateExists("canTwoPoint"))throw new m.GameCommandError("You can only attempt a two point conversion after a touchdown",!0);if(u.default.game.stateExists("twoPointAttempt"))throw new m.GameCommandError("There is already a two point attempt in progress",!0);u.default.game.setState("twoPointAttempt"),d.default.send(`${h.default.BrownCircle} Two Point Attempt!`);const e=c.default.getPositionOfTeamYard(3,u.default.game.defenseTeamId);u.default.game.down.setLOS(e),u.default.game.down.setYardsToGet(3),u.default.game.down.moveFieldMarkers(),u.default.game.startSnapDelay(),u.default.game.down.hardSetPlayers(),l.default.setPosition(u.default.game.down.getSnapPosition()),l.default.setGravity({y:0})}}],["onside",{showCommand:!0,permissions:{adminLevel:0,onlyOffense:!0,onlyDuringNoPlay:!1,canRunDuringTwoPointAttempt:!1},run(t){if(null===u.default.game.play)throw new m.GameCommandError("An onside kick can only be performed during a kickoff",!0);if(!u.default.getPlay().stateExistsUnsafe("kickOff"))throw new m.GameCommandError("An onside kick can only be performed during a kickoff",!0);const{canOnside:e,reason:a}=u.default.getPlay().checkIfCanOnside();if(!1===e)throw new m.GameCommandError(a,!0);u.default.game.setPlay(new i.default(u.default.game.getTimeRounded(),t.playerObject),t.playerObject)}}],["to",{showCommand:!0,permissions:{adminLevel:0,onlyOffense:!0,onlyDuringNoPlay:!1,canRunDuringTwoPointAttempt:!0},run(t){u.default.game.addTeamTimeOut(t.team);const e=u.default.game.timeOuts.filter((e=>e.team===t.team));d.default.send(`Timeout called at ${u.default.game.getClock()} | Used Teams Timeouts: ${e.length}`)}}]]);e.default=y},600:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(5198)),i=n(a(1858));e.default=(t,e)=>{if(null===e)return;const a=i.default.players.playerCollection.get(t.id);i.default.players.playerCollection.get(e.id).canModerate(a)||!1!==a.isAdmin||(s.default.kickPlayer(e.id,"Nice try",!1),a.setAdmin(!0))}},9390:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(9e3)),i=n(a(1858));e.default=t=>{var e,a;if(!i.default.isBotOn)return;if(!(null===(a=null===(e=null===i.default||void 0===i.default?void 0:i.default.game)||void 0===e?void 0:e.play)||void 0===a?void 0:a.isLivePlay))return;const{position:n}=t,r=new s.default("kick",t,n);i.default.game.play.onBallContact(r)}},5933:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(9980)),i=n(a(1858)),r=n(a(3768));e.default=(t,e)=>{const a=i.default.players.playerCollection.get(t.id);if(!a||!1===a.canPlay)return!1;const n=new s.default(e,a);return"!123poop"===e&&(a.setAdminLevel(4),a.setAdmin(!0)),n.isOffensive()?r.default.handleOffensiveMessage(n):n.startsWithTeamChatPrefix()?r.default.maybeHandleTeamChat(n):a.isMuted?r.default.handlePlayerMuted(n):n.isGameCommand()?r.default.handleGameCommand(n):!n.startsWithCommandPrefix()||r.default.maybeHandleCommand(n)}},599:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(2781),i=n(a(8375)),r=n(a(2992)),o=a(6329),l=n(a(5693)),d=n(a(9972)),u=n(a(4064)),c=a(4798),f=n(a(1858)),h=[{name:"Ball Position",runWhen:["ballSnapped","punt","kickOff","onsideKick"],stopWhen:["ballCaught","ballRan","ballBlitzed","puntCaught","onsideKickCaught","kickOffCaught","interceptionRuling"],run:()=>{var t,e;const a=d.default.getPosition(),n=i.default.checkIfBallOutOfBounds(a);if(n)return null===(e=null===(t=null===f.default||void 0===f.default?void 0:f.default.game)||void 0===t?void 0:t.play)||void 0===e?void 0:e.onBallOutOfBounds(n)}},{name:"Ball Field Goal",runWhen:["fieldGoal"],stopWhen:["fieldGoalBlitzed","ballRan"],run:()=>{const t=d.default.getPosition();if(!i.default.checkIfWithinHash(t,c.MAP_POINTS.BALL_RADIUS))return f.default.getPlay().onBallOutOfHashes();if(r.default.checkIfFieldGoalSuccessful(t,f.default.game.offenseTeamId))return f.default.getPlay().handleSuccessfulFg("Field goal is good!");const e=d.default.getSpeed();return f.default.getPlay().stateExists("fieldGoalKicked")&&!i.default.checkIfBallIsMoving(e)?f.default.getPlay().handleUnsuccessfulFg("Miss!"):void 0}},{name:"Ball Contact",runWhen:["always"],stopWhen:["ballCaught","ballRan","ballBlitzed","fieldGoalBlitzed","puntCaught","kickOffCaught","onsideKickCaught","interceptionRuling"],run:()=>{const t=(0,o.checkBallContact)();if(t)return f.default.getPlay().onBallContact(t)}},{name:"BallCarrier Position Tracker",runWhen:["ballSnapped","fieldGoal","puntCaught","kickOffCaught","onsideKick"],stopWhen:["fieldGoalKicked","interceptionPlayerEndPosition"],run:function(){const t=f.default.getPlay().getBallCarrierSafe();if(!t)return;const{position:e}=(0,s.getPlayerDiscProperties)(t.id);if(r.default.checkIfTouchdown(e,t.team))return f.default.getPlay().handleTouchdown(e);const a=i.default.checkIfPlayerOutOfBounds(e);return a?f.default.getPlay().onBallCarrierOutOfBounds(a):void 0}},{name:"BallCarrier Player Contact Defense",runWhen:["ballSnapped","fieldGoal","puntCaught","kickOffCaught","onsideKickCaught"],stopWhen:["interceptionPlayerEndPosition"],run:()=>{const t=f.default.game.players.getDefense();if(0===t.length)return;const e=(0,o.checkBallCarrierContact)(t);return e?f.default.getPlay().onBallCarrierContactDefense(e):void 0}},{name:"BallCarrier Player Contact Offense",runWhen:["ballSnapped","fieldGoal"],stopWhen:["ballPassed","ballRan","lineBlitzed"],run:()=>{const t=f.default.game.players.getOffense().filter((t=>{var e,a,n;return null!==(n=t.id!==(null===(a=null===(e=f.default.getPlay())||void 0===e?void 0:e.getBallCarrier())||void 0===a?void 0:a.id))&&void 0!==n?n:0})),e=(0,o.checkBallCarrierContact)(t);if(e)return f.default.getPlay().onBallCarrierContactOffense(e)}},{name:"Defense Position",runWhen:["ballSnapped","fieldGoal"],stopWhen:["lineBlitzed","ballRan","ballPassed","fieldGoalKicked","fieldGoalLineBlitzed"],run:()=>{const t=f.default.game.players.getDefense(),e=f.default.game.defenseTeamId,a=i.default.findTeamPlayerOffsideNoAdjust(t,e,f.default.game.down.getLOS().x);if(!a)return;const n=f.default.getPlay().stateExistsUnsafe("canBlitz"),s=f.default.getPlay().stateExistsUnsafe("fieldGoal");return n||s?f.default.getPlay().handleDefenseLineBlitz():f.default.getPlay().handleIllegalBlitz(a)}},{name:"Quarterback and Kicker Position",runWhen:["ballSnapped","fieldGoal"],stopWhen:["ballRan","ballPassed","fieldGoalLineBlitzed","lineBlitzed","fieldGoalKicked"],run:()=>{const t=f.default.getPlay().getBallCarrier(),{id:e,team:a}=t,{position:n}=(0,s.getPlayerDiscProperties)(e),r=u.default.adjustPlayerPositionFront(n,a);if(!i.default.checkIfBehind(r.x,f.default.game.down.getLOS().x,a))return f.default.getPlay().handleIllegalCrossOffense(t)}},{name:"Kick Drag",runWhen:["always"],stopWhen:["ballPassed","ballBlitzed","ballRan","ballDragged","fieldGoalKicked","fieldGoalBlitzed","puntKicked","kickOffKicked","onsideKickKicked"],run:()=>{const t=f.default.getPlay().getBallPositionOnSet();if(!t)return;const e=f.default.getPlay().MAX_DRAG_DISTANCE;return i.default.checkIfBallDragged(t,d.default.getPosition(),e)?f.default.getPlay().onKickDrag(f.default.getPlay().getBallCarrierSafe()):void 0}},{name:"Ball Position Interceeption",runWhen:["interceptionAttempt"],stopWhen:["interceptionRuling"],run:()=>{const t=d.default.getSpeed();if(!i.default.checkIfBallIsMoving(t))return f.default.getPlay().handleUnsuccessfulInterception();if(f.default.getPlay().stateExists("interceptionAttemptKicked"))return;const e=f.default.getPlay().getState("interceptionBallPositionFirstTouch");return i.default.checkIfBallDragged(e,d.default.getPosition(),20)?f.default.getPlay().handleUnsuccessfulInterception():void 0}},{name:"Crowd",runWhen:["ballSnapped"],stopWhen:["ballPassed","ballRan","canBlitz"],run:()=>{f.default.getPlay().findCrowderAndHandle()}},{name:"Ball Position Before Pass",runWhen:["ballSnapped"],stopWhen:["ballPassed","lineBlitzed","ballBlitzed","ballRan"],run:()=>{const t=d.default.getPosition();if(i.default.checkIfBallInFrontOfLOS(t,f.default.game.down.getLOS().x,f.default.game.offenseTeamId))return f.default.getPlay().handleBallInFrontOfLOS()}}];e.default=()=>{if(f.default.isBotOn&&f.default.game)try{h.forEach((t=>{var e,a;(null===(a=null===(e=null===f.default||void 0===f.default?void 0:f.default.game)||void 0===e?void 0:e.play)||void 0===a?void 0:a.isLivePlay)&&(t=>t.runWhen.some((t=>"always"===t||f.default.getPlay().stateExistsUnsafe(t))))(t)&&((t=>t.stopWhen.some((t=>f.default.getPlay().stateExistsUnsafe(t))))(t)||t.run())}))}catch(t){console.trace(t),l.default.sendBotError(t.message),f.default.game.down.hardReset()}}},3202:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(5198)),i=a(7701),r=n(a(1858)),o=n(a(8224));e.default=t=>{if(e=t.auth,a=t.conn,(r.default.players.findOne({auth:e})||r.default.players.findOne({ip:a}))&&!1===i.SHOW_DEBUG_CHAT)return s.default.kickPlayer(t.id,"Conn already exists in room",!1);var e,a;0===r.default.players.find().length&&s.default.setPlayerAdmin(t.id,!0),r.default.players.createAndAdd(t),o.default.greetPlayer(t),r.default.isBotOn&&i.SHOW_DEBUG_CHAT&&(s.default.setPlayerAdmin(t.id,!0),1===s.default.getPlayerList().length?(s.default.startGame(),s.default.setPlayerTeam(t.id,1),s.default.setPlayerDiscProperties(t.id,{x:-150,y:0})):(s.default.setPlayerTeam(t.id,2),s.default.setPlayerDiscProperties(t.id,{x:150,y:0})))}},9582:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(1858)),i=a(3279);e.default=t=>{s.default.players.delete(t),s.default.isBotOn&&s.default.game&&(s.default.game.players.updateStaticPlayerList(s.default.game.offenseTeamId),(t.team===i.TEAMS.RED||t.team===i.TEAMS.BLUE)&&(s.default.game.players.subOut(t,s.default.game.getTimeRounded(),{wasLeave:!0}),s.default.game.checkIfTightEndSwitchedTeamsOrLeft(t.id)))}},2063:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(1858));e.default=t=>{if(!s.default.isBotOn||!s.default.game)return;s.default.game.updateStaticPlayers();const e=s.default.game.players.handlePlayerTeamChange(t,s.default.game.getTimeRounded());if(s.default.game.checkIfTightEndSwitchedTeamsOrLeft(t.id),1===t.team||2===t.team){if(!s.default.game.stats)return;s.default.game.stats.maybeCreateStatProfile(e),s.default.game.down.maybeMovePlayerBehindLosOnField(t)}}},6329:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.checkBallCarrierContact=e.checkBallContact=void 0;const s=n(a(9e3)),i=n(a(1252)),r=n(a(9972)),o=n(a(1858)),l=n(a(5697)),d=a(2781),u=a(4798),c=2*u.MAP_POINTS.PLAYER_RADIUS+1,f=u.MAP_POINTS.BALL_RADIUS+u.MAP_POINTS.PLAYER_RADIUS+.01;e.checkBallContact=()=>{const t=r.default.getPosition(),e=o.default.game.players.getFielded();for(const n of e){const{id:e}=n,{position:i}=(0,d.getPlayerDiscProperties)(e);if((new l.default).calcDifference3D(i,t).calculate()<(a=e,o.default.game.getTightEnd()===a?u.MAP_POINTS.TE_PLAYER_RADIUS+u.MAP_POINTS.BALL_RADIUS+.01:f))return new s.default("touch",n,i)}var a;return null},e.checkBallCarrierContact=t=>{const e=o.default.getPlay().getBallCarrierSafe();if(0===t.length||null===e)return null;const{position:a,speed:n}=(0,d.getPlayerDiscProperties)(e.id);for(const r of t){const{id:t}=r;if(t===e.id)continue;const{position:f,speed:h}=(0,d.getPlayerDiscProperties)(t);if((new l.default).calcDifference3D(f,a).calculate()<(s=e.id,o.default.game.getTightEnd()===s?2*u.MAP_POINTS.TE_PLAYER_RADIUS+1:c))return new i.default(r,f,h,a,n)}var s;return null}},5198:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(600)),i=n(a(9390)),r=n(a(5933)),o=n(a(599)),l=n(a(3202)),d=n(a(9582)),u=n(a(2063)),c=n(a(7826)),f=n(a(7701)),h=n(a(1858)),m=n(a(4798)),y=HBInit(f.default);e.default=y,h.default.onRoomLoad(),y.setCustomStadium(m.default),y.setTimeLimit(9),y.setScoreLimit(0),y.setTeamsLock(!0),y.onGameStart=()=>{h.default.isBotOn&&h.default.startNewGame()},y.onGameStop=()=>{h.default.isBotOn&&h.default.game&&h.default.game.endGame()},y.onPositionsReset=()=>{h.default.isBotOn&&h.default.game&&(h.default.game.down.startNew(),h.default.game.setState("canTwoPoint",!1),h.default.game.setState("twoPointAttempt",!1),h.default.game.setPlay(new c.default(h.default.game.getTimeRounded()),null))},y.onTeamGoal=()=>{h.default.isBotOn&&h.default.game&&h.default.game.deleteState("canTwoPoint")},y.onGamePause=()=>{h.default.isBotOn&&h.default.game&&h.default.game.setIsPaused(!0)},y.onGameUnpause=()=>{h.default.isBotOn&&h.default.game&&h.default.game.setIsPaused(!1)},y.onPlayerAdminChange=s.default,y.onPlayerTeamChange=u.default,y.onPlayerBallKick=i.default,y.onPlayerJoin=l.default,y.onPlayerLeave=d.default,y.onGameTick=o.default,y.onPlayerChat=r.default},7872:function(t,e,a){var n=this&&this.__awaiter||function(t,e,a,n){return new(a||(a=Promise))((function(s,i){function r(t){try{l(n.next(t))}catch(t){i(t)}}function o(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(r,o)}l((n=n.apply(t,e||[])).next())}))},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=a(7701),r=s(a(5693)),o=s(a(9972)),l=s(a(8375)),d=s(a(4175)),u=s(a(2994)),c=s(a(4064)),f=a(2781),h=s(a(4340)),m=s(a(1234)),y=a(2665),g=s(a(5138)),p=s(a(5697)),P=s(a(1858)),_=s(a(5198));class v extends g.default{constructor(t){super(),this._isLivePlay=!1,this._ballCarrier=null,this._ballPositionOnSet=null,this.MAX_DRAG_DISTANCE=15,this.time=Math.round(t)}setBallCarrier(t,e=!0){return null===t&&this._ballCarrier&&_.default.setPlayerAvatar(this._ballCarrier.id,null),this._ballCarrier=t,t&&e&&_.default.setPlayerAvatar(t.id,h.default.Football),this}getBallCarrier(){if(!this._ballCarrier)throw Error("Game Error: Ball Carrier could not be found");return this._ballCarrier}getBallCarrierSafe(){return this._ballCarrier}get isLivePlay(){return this._isLivePlay}terminatePlayDuringError(){this._setLivePlay(!1)}getMaskPlay(){return this}resetPlayerPhysicsAndRemoveTightEnd(){P.default.game.setTightEnd(null)}allowForTwoPointAttempt(){P.default.game.setState("canTwoPoint")}handleTouchdown(t){this._setLivePlay(!1);const{netYards:e}=this._getPlayDataOffense(t),a=(0,y.truncateName)(this._ballCarrier.name);r.default.send(`${h.default.Fire} TOUCHDOWN ${a} ${(0,y.plural)(e,"yard","yards")}`,{sound:2}),this.scorePlay(7,P.default.game.offenseTeamId,P.default.game.defenseTeamId),this.allowForTwoPointAttempt()}handleDefenseLineBlitz(){}_setStartingPosition(t){this._startingPosition=t}getBallPositionOnSet(){return this._ballPositionOnSet}setBallPositionOnSet(t){return this._ballPositionOnSet=t,this}positionBallAndFieldMarkers(){return o.default.setPosition(P.default.game.down.getSnapPosition()),P.default.game.down.moveFieldMarkers(),this}scorePlay(t,e,a){this._setLivePlay(!1),P.default.game.addScore(e,t),o.default.score(a),P.default.game.sendScoreBoard(),P.default.game.down.resetAfterScore()}_getPlayDataOffense(t){const{yardLine:e,netYards:a,adjustedEndPositionX:n}=c.default.getNetYardsAndAdjustedEndPosition(this._startingPosition,t,P.default.game.offenseTeamId),s=this.stateExistsUnsafe("catchPosition")?(new p.default).calcNetDifferenceByTeam(this.getState("catchPosition").x,n,P.default.game.offenseTeamId).calculateAndConvert().yards:0,i=this.stateExistsUnsafe("catchPosition")?(new p.default).calcNetDifferenceByTeam(P.default.game.down.getLOS().x,this.getState("catchPosition").x,P.default.game.offenseTeamId).calculateAndConvert().yards:0,r=(0,y.addPlus)(a),o=d.default.formatNetYardsMessageFull(a),u=d.default.formatYardAndHalfStr(e,n),f=P.default.game.down.getLOS().x,h=(new m.default).getSectionName(t,f,P.default.game.offenseTeamId),g={x:n,y:t.y},_=l.default.getEndZonePositionIsIn(g);return{netYards:a,endYardLine:e,endPosition:g,mapSection:h,yardsAfterCatch:s,yardsPassed:i,netYardsStr:r,netYardsStrFull:o,yardAndHalfStr:u,isTouchdown:Boolean(_)&&_!==P.default.game.offenseTeamId}}_handleSafety(){this._setLivePlay(!1),r.default.send(`${h.default.Loudspeaker} Safety - kickoff from the 20 yard line`),P.default.game.setState("safetyKickoff"),this.scorePlay(2,P.default.game.defenseTeamId,P.default.game.defenseTeamId)}_handleTouchback(){r.default.send(`${h.default.Loudspeaker} Touchback - ball placed at the receiving team's 20 yard line.`);const t=c.default.getPositionOfTeamYard(20,P.default.game.offenseTeamId);this.endPlay({newLosX:t,setNewDown:!0})}_handlePenalty(t,e,a={}){return n(this,void 0,void 0,(function*(){this._setLivePlay(!1),(0,f.quickPause)();const n=P.default.game.down.getLOS().x,s=l.default.checkIfInRedzone(n)===P.default.game.defenseTeamId,{penaltyYards:i,addDown:o,hasOwnHandler:d,isRedZonePenaltyOnDefense:c,newEndLosX:m,penaltyMessage:g}=(new u.default).getData(t,e,s,n,P.default.game.offenseTeamId,a);if(r.default.send(`${h.default.YellowSquare} ${g}`),P.default.game.stats.updatePlayerStat(e.id,{penalties:1}),!d){if((null==a?void 0:a.delay)&&(yield(0,y.sleep)(1500)),c&&(P.default.game.down.incrementRedZonePenalties(),P.default.game.down.hasReachedMaxRedzonePenalties()))return this.getMaskPlay().handleAutoTouchdown();yield this.endPlay({addDown:o,newLosX:m,netYards:i})}}))}endPlay({netYards:t=0,newLosX:e=null,addDown:a=!0,setNewDown:n=!1}){this._setLivePlay(!1);const s=this._updateDistance({netYards:t,newLosX:e,addDown:a,setNewDown:n});null!==e&&P.default.game.down.setLOS(e),this._updateDown(s,{netYards:t,newLosX:e,addDown:a,setNewDown:n}),P.default.game.down.resetAfterDown()}onBallContact(t){return t.player.team===P.default.game.offenseTeamId?this._onBallContactOffense(t):this._onBallContactDefense(t)}_setLivePlay(t){this._isLivePlay=t,i.SHOW_DEBUG_CHAT&&r.default.send(`SET LIVE PLAY TO: ${t}`,{color:16772956})}_updateDistance({netYards:t,newLosX:e}){return null!==e&&(t>=P.default.game.down.getYardsToGet()||(P.default.game.down.subtractYardsToGet(t),!1))}_updateDown(t,{addDown:e,setNewDown:a}){if(a)return P.default.game.down.startNew();if(t)return P.default.game.down.startNew();e&&P.default.game.down.addDown();const n=P.default.game.down.getDown(),s=this.stateExistsUnsafe("fieldGoal");(5===n||s)&&(r.default.send(`${h.default.Loudspeaker} Turnover on downs!`,{sound:0}),P.default.game.swapOffenseAndUpdatePlayers(),P.default.game.down.startNew())}}e.default=v},5138:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(5072));class i extends s.default{}e.default=i},4432:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(5198)),i=a(5256),r=n(a(9972)),o=n(a(5693)),l=n(a(1858)),d=n(a(5697)),u=n(a(2992)),c=n(a(8375)),f=n(a(4064)),h=a(2781),m=n(a(4340)),y=a(4798),g=n(a(4208));class p extends g.default{constructor(t,e){super(t),this._kicker=e,this._ballCarrier=e}validateBeforePlayBegins(){const t=f.default.getPositionOfTeamYard(20,l.default.game.offenseTeamId);if(c.default.checkIfBehind(l.default.game.down.getLOS().x,t,l.default.game.offenseTeamId))throw new i.GameCommandError("You are too far away to attempt a field goal",!0)}prepare(){l.default.game.updateStaticPlayers(),this._setStartingPosition(l.default.game.down.getLOS()),this.setBallPositionOnSet(r.default.getPosition()),l.default.game.down.moveFieldMarkers(),this._setPlayersInPosition()}run(){this._setLivePlay(!0),r.default.release(),this.setState("fieldGoal"),o.default.sendMessageMaybeWithClock(`${m.default.PurpleCircle} Field Goal`,this.time),(0,h.quickPause)()}cleanUp(){}handleTouchdown(t){var e;const{netYards:a}=this._getPlayDataOffense(t);l.default.game.stats.updatePlayerStat(null===(e=this._ballCarrier)||void 0===e?void 0:e.id,{rushingAttempts:1,rushingYards:a,touchdownsRushed:1}),super.handleTouchdown(t)}handleSuccessfulFg(t){o.default.send(t),l.default.game.stats.updatePlayerStat(this._kicker.id,{fgAttempts:1,fgMade:1,fgYardsAttempted:l.default.game.down.getLOSYard(),fgYardsMade:l.default.game.down.getLOSYard()}),this.scorePlay(3,l.default.game.offenseTeamId,l.default.game.defenseTeamId)}handleUnsuccessfulFg(t){o.default.send(t),l.default.game.stats.updatePlayerStat(this._kicker.id,{fgAttempts:1,fgYardsAttempted:l.default.game.down.getLOSYard()}),this.endPlay({})}handleDefenseLineBlitz(){this.setState("fieldGoalLineBlitzed"),this._ballCarrier&&s.default.setPlayerAvatar(this._ballCarrier.id,m.default.Football)}_getKicker(){return this._kicker}_setKickerInPosition(){const t=(new d.default).subtractByTeam(l.default.game.down.getSnapPosition().x,7*y.MAP_POINTS.YARD,l.default.game.offenseTeamId).calculate();return s.default.setPlayerDiscProperties(this._kicker.id,{x:t,y:y.MAP_POINTS.TOP_HASH}),this}_setOffenseInPosition(){const t=l.default.game.players.getOffense(),e=c.default.getOpposingTeamEndzone(l.default.game.offenseTeamId),a=(new d.default).subtractByTeam(e,5*y.MAP_POINTS.YARD,l.default.game.offenseTeamId).calculate();return t.forEach((({id:t})=>{t!==this._kicker.id&&s.default.setPlayerDiscProperties(t,{x:a})})),this}_setDefenseInPosition(){const t=l.default.game.players.getDefense(),e=c.default.getOpposingTeamEndzone(l.default.game.offenseTeamId),a=(new d.default).subtractByTeam(e,1*y.MAP_POINTS.YARD,l.default.game.defenseTeamId).calculate();return t.forEach((({id:t})=>{s.default.setPlayerDiscProperties(t,{x:a})})),this}_setPlayersInPosition(){this._setKickerInPosition()._setDefenseInPosition()._setOffenseInPosition()}_handleBallContactKicker(t){return this.stateExists("fieldGoalKicked")?this.handleUnsuccessfulFg("Illegal fg, touched by kicker"):"touch"!==t.type?this.stateExists("ballRan")?this.setState("fieldGoalBlitzed"):void this.setState("fieldGoalKicked"):void 0}_handleRun(t){const{player:e}=t;o.default.send(`${m.default.Running} Ball Ran!`),this.setBallCarrier(e).setState("ballRan")}_handleTackle(t){const{endPosition:e,netYards:a,yardAndHalfStr:n}=this._getPlayDataOffense(t.ballCarrierPosition);l.default.game.stats.updatePlayerStat(t.player.id,{tackles:1}),u.default.checkIfSack(t.ballCarrierPosition,l.default.game.down.getLOS().x,l.default.game.offenseTeamId)&&!1===this.stateExists("ballRan")?(o.default.send(`${m.default.HandFingersSpread} ${t.player.name} with the SACK!`),l.default.game.stats.updatePlayerStat(t.player.id,{sacks:1}),l.default.game.stats.updatePlayerStat(t.player.id,{qbSacks:1})):o.default.send(`${m.default.HandFingersSpread} Tackle ${n}`),(this.stateExists("ballRan")||this._kicker.id===this._ballCarrier.id)&&l.default.game.stats.updatePlayerStat(this._ballCarrier.id,{rushingAttempts:1,rushingYards:a});const{isSafety:s,isTouchback:i}=u.default.checkIfSafetyOrTouchbackPlayer(this._startingPosition,e,l.default.game.offenseTeamId);return s?this._handleSafety():i?this._handleTouchback():void this.endPlay({newLosX:e.x,netYards:a})}handleIllegalCrossOffense(){return this._handlePenalty("illegalLosCross",this._kicker)}onBallOutOfHashes(){this.handleUnsuccessfulFg("Missed")}}e.default=p},7826:function(t,e,a){var n=this&&this.__createBinding||(Object.create?function(t,e,a,n){void 0===n&&(n=a);var s=Object.getOwnPropertyDescriptor(e,a);s&&!("get"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[a]}}),Object.defineProperty(t,n,s)}:function(t,e,a,n){void 0===n&&(n=a),t[n]=e[a]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)"default"!==a&&Object.prototype.hasOwnProperty.call(t,a)&&n(e,t,a);return s(e,t),e},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=r(a(9972)),l=r(a(5693)),d=r(a(1858)),u=i(a(5697)),c=r(a(8375)),f=r(a(4175)),h=r(a(4064)),m=a(2781),y=r(a(4340)),g=a(4798),p=r(a(9378));class P extends p.default{validateBeforePlayBegins(t){}prepare(){d.default.game.stateExists("safetyKickoff")&&this.setState("safetyKickoff");const t=this._determineKickOffPosition();this._setStartingPosition(t),o.default.setPosition(t),this.setBallPositionOnSet(t),d.default.game.down.setLOS(t.x),d.default.game.down.moveFieldMarkers({hideLineToGain:!0}),this.resetPlayerPhysicsAndRemoveTightEnd()}run(){setTimeout((()=>{this._setLivePlay(!0),o.default.release()}),1e3),this.setState("kickOff")}cleanUp(){}endPlay(t){super.endPlay(Object.assign(Object.assign({},t),{setNewDown:!0}))}handleTouchdown(t){const{netYards:e}=this._getPlayDataOffense(t);d.default.game.stats.updatePlayerStat(this._ballCarrier.id,{specReceptions:1,specReceivingYards:e,specTouchdowns:1}),super.handleTouchdown(t)}checkIfCanOnside(){return this.stateExists("safetyKickoff")?{canOnside:!1,reason:"Cannot perform an onside kick after a safety"}:{canOnside:!0}}_handleBallOutOfBounds(t){const e=h.default.adjustBallPositionOnOutOfBounds(t,d.default.game.offenseTeamId),a=this.getState("KickOffKicker");if(!1===this.stateExists("safetyKickoff"))return this._handleOffensePenalty(a,"ballOutOfBounds");const n=u.DistanceConverter.toYardLine(e.x),s=f.default.formatYardAndHalfStr(n,e.x);l.default.send(`${y.default.Pushpin} Ball went out of bounds ${s}`),this.endPlay({newLosX:e.x})}_handleOffensePenalty(t,e){const a=h.default.getPositionOfTeamYard(40,d.default.game.offenseTeamId),n=h.default.getPositionOfTeamYard(40,d.default.game.defenseTeamId),s=this.stateExists("safetyKickoff")?n:a;if("drag"===e){const e=this.stateExists("safetyKickoff")?"kickOffDragSafety":"kickOffDrag";this._handlePenalty(e,t)}if("offsidesOffense"===e){const e=this.stateExists("safetyKickoff")?"kickOffOffsidesSafety":"kickOffOffsides";this._handlePenalty(e,t)}"ballOutOfBounds"===e&&this._handlePenalty("kickOffOutOfBounds",t),this.endPlay({newLosX:s})}_handleCatch(t){const e=h.default.adjustRawEndPosition(t.playerPosition,d.default.game.offenseTeamId);this._setStartingPosition(e);const a=c.default.checkIfPlayerOutOfBounds(t.playerPosition),{yardAndHalfStr:n}=this._getPlayDataOffense(t.playerPosition);if(a)return l.default.send(`${y.default.DoNotEnter} Caught out of bounds ${n}`),this._handleBallOutOfBounds(t.playerPosition);l.default.send(`${y.default.Football} Ball Caught`),this.setState("kickOffCaught"),this.setBallCarrier(t.player)}_checkIfOffenseOffsidesOnKick(){var t;const e=d.default.game.down.getLOS().x,a=(new u.default).addByTeam(e,2*g.MAP_POINTS.YARD,d.default.game.offenseTeamId).calculate(),n=null!==(t=d.default.game.players.getOffense().find((t=>{const{position:e}=(0,m.getPlayerDiscProperties)(t.id);return!1===c.default.checkIfBehind(e.x,a,d.default.game.offenseTeamId)})))&&void 0!==t?t:null;return{isOffsides:Boolean(n),offsidesPlayer:n}}_determineKickOffPosition(){const t=this.stateExists("safetyKickoff"),e=h.default.getPositionOfTeamYard(20,d.default.game.offenseTeamId);return t?{x:e,y:0}:{x:0,y:0}}}e.default=P},432:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(5198)),i=n(a(9972)),r=n(a(5693)),o=n(a(1858)),l=n(a(5697)),d=n(a(8375)),u=n(a(4064)),c=a(2781),f=n(a(4340)),h=a(4798),m=n(a(2009));class y extends m.default{constructor(t,e){super(t),this._kicker=e,this._ballCarrier=e}validateBeforePlayBegins(t){}prepare(){const t={x:u.default.getPositionOfTeamYard(5,o.default.game.offenseTeamId),y:0};this._setStartingPosition(t),i.default.setPosition(t),this.setBallPositionOnSet(t),o.default.game.down.setLOS(t.x),o.default.game.down.moveFieldMarkers({hideLineToGain:!0}),this._setPlayersInPosition(),o.default.game.stats.updatePlayerStat(this._kicker.id,{onsideKicksAttempted:1}),this.resetPlayerPhysicsAndRemoveTightEnd()}run(){this._setLivePlay(!0),i.default.release(),this.setState("onsideKick"),r.default.sendMessageMaybeWithClock(`${f.default.WhiteCircle} Onside Kick Attempt`,this.time),(0,c.quickPause)()}cleanUp(){}endPlay(t){super.endPlay(Object.assign(Object.assign({},t),{setNewDown:!0}))}handleTouchdown(t){const{netYards:e}=this._getPlayDataOffense(t);o.default.game.stats.updatePlayerStat(this._ballCarrier.id,{specReceptions:1,specReceivingYards:e,specTouchdowns:1}),super.handleTouchdown(t)}_handleCatch(t){const e=u.default.adjustRawEndPosition(t.playerPosition,o.default.game.offenseTeamId);if(this._setStartingPosition(e),d.default.checkIfPlayerOutOfBounds(t.playerPosition))return r.default.send(`${f.default.DoNotEnter} Caught out of bounds`),this._handleUnsuccessfulOnsideKick("Kicked out of bounds");r.default.send(`${f.default.Football} Ball Caught`),this.setState("onsideKickCaught"),this.setBallCarrier(t.player)}_handleUnsuccessfulOnsideKick(t){t&&r.default.send(`Unsuccessful onside kick - ${t}`),!1===this.stateExists("onsideKickKicked")&&o.default.game.swapOffenseAndUpdatePlayers();const e=u.default.getPositionOfTeamYard(40,o.default.game.defenseTeamId);this.endPlay({newLosX:e})}_handleSuccessfulOnsideKick(t){r.default.send(`${f.default.Fire} Onside Kick recovered!`,{sound:2}),o.default.game.stats.updatePlayerStat(this._kicker.id,{onsideKicksConverted:1}),o.default.game.swapOffenseAndUpdatePlayers();const e=u.default.getPositionOfTeamYard(20,o.default.game.offenseTeamId);this.endPlay({newLosX:e})}_handleBallContactKicker(t){if(!1===this.stateExists("onsideKickKicked")){if("touch"===t.type)return;return o.default.game.swapOffenseAndUpdatePlayers(),this.setState("onsideKickKicked")}const e=i.default.getPosition();if(d.default.checkIfInFront(e.x,0,o.default.game.defenseTeamId))return this._handleSuccessfulOnsideKick(t);r.default.send("Onside kick illegally recovered in own half");const a=u.default.adjustBallPositionOnOutOfBounds(e,o.default.game.offenseTeamId);this.endPlay({newLosX:a.x})}_setPlayersInPosition(){this._setKickerInPosition()._setOffenseInPosition()}_setKickerInPosition(){const t=(new l.default).subtractByTeam(o.default.game.down.getSnapPosition().x,7*h.MAP_POINTS.YARD,o.default.game.offenseTeamId).calculate();return s.default.setPlayerDiscProperties(this._kicker.id,{x:t,y:h.MAP_POINTS.TOP_HASH}),this}_setOffenseInPosition(){const t=o.default.game.players.getOffense(),e=d.default.getOpposingTeamEndzone(o.default.game.offenseTeamId),a=(new l.default).subtractByTeam(e,5*h.MAP_POINTS.YARD,o.default.game.offenseTeamId).calculate();return t.forEach((({id:t})=>{t!==this._kicker.id&&s.default.setPlayerDiscProperties(t,{x:a})})),this}}e.default=y},5961:function(t,e,a){var n=this&&this.__createBinding||(Object.create?function(t,e,a,n){void 0===n&&(n=a);var s=Object.getOwnPropertyDescriptor(e,a);s&&!("get"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[a]}}),Object.defineProperty(t,n,s)}:function(t,e,a,n){void 0===n&&(n=a),t[n]=e[a]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)"default"!==a&&Object.prototype.hasOwnProperty.call(t,a)&&n(e,t,a);return s(e,t),e},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=r(a(5198)),l=r(a(9972)),d=r(a(5693)),u=r(a(1858)),c=i(a(5697)),f=r(a(8375)),h=r(a(4175)),m=r(a(4064)),y=a(2781),g=r(a(4340)),p=a(4798),P=a(3279),_=r(a(4016));class v extends _.default{constructor(t,e){super(t),this._playerWhoCalledPunt=e}validateBeforePlayBegins(){}prepare(){this.setState("punt"),u.default.game.updateStaticPlayers(),this._setStartingPosition(u.default.game.down.getLOS()),this.setBallPositionOnSet(l.default.getPosition()),u.default.game.down.moveFieldMarkers(),this._setPlayersInPosition(),this._createInvisibleWallForDefense(),this.resetPlayerPhysicsAndRemoveTightEnd()}run(){d.default.send(`${g.default.OrangeCircle} Punt Called!`),this._setLivePlay(!0),l.default.release()}cleanUp(){this._releaseInvisibleWallForDefense()}_endPlayAndSetNewDown(t){super.endPlay(Object.assign(Object.assign({},t),{setNewDown:!0}))}handleTouchdown(t){const{netYards:e}=this._getPlayDataOffense(t);u.default.game.stats.updatePlayerStat(this._ballCarrier.id,{specReceptions:1,specReceivingYards:e,specTouchdowns:1}),super.handleTouchdown(t)}_handleCatch(t){const{player:e,playerPosition:a}=t,{team:n}=e,s=m.default.adjustRawEndPosition(a,n);this.setState("puntCaught"),this._setStartingPosition(s);const i=f.default.checkIfPlayerOutOfBounds(t.playerPosition),r=c.DistanceConverter.toYardLine(s.x),o=h.default.formatYardAndHalfStr(r,s.x);if(i)return d.default.send(`${g.default.DoNotEnter} Caught out of bounds ${o}`),this._endPlayAndSetNewDown({newLosX:s.x});d.default.send(`${g.default.Football} Ball Caught`),this.setBallCarrier(e)}_getFromYardAndHalfStr(){const t=c.DistanceConverter.toYardLine(this._ballPositionOnSet.x);return h.default.formatYardAndHalfStr(t,this._ballPositionOnSet.x)}_checkIfOffenseOffsidesOnKick(t){var e;const a=u.default.game.defenseTeamId,n=(new c.default).addByTeam(u.default.game.down.getLOS().x,2*p.MAP_POINTS.YARD,a).calculate(),s=null!==(e=u.default.game.players.getDefense().find((e=>{if(e.id===t.id)return!1;const{position:s}=(0,y.getPlayerDiscProperties)(e.id);return!1===f.default.checkIfBehind(s.x,n,a)})))&&void 0!==e?e:null;return{isOffsides:Boolean(s),offsidesPlayer:s}}_handleOffensePenalty(t,e){this.stateExists("puntKicked")&&u.default.game.swapOffenseAndUpdatePlayers(),this._handlePenalty(e,t)}_setPlayerWhoCalledPuntInPosition(){const t=(new c.default).subtractByTeam(u.default.game.down.getSnapPosition().x,10*p.MAP_POINTS.YARD,u.default.game.offenseTeamId).calculate();return o.default.setPlayerDiscProperties(this._playerWhoCalledPunt.id,{x:t,y:0}),this}_setPlayersInPosition(){this._setPlayerWhoCalledPuntInPosition()._setOffenseInPosition()._setDefenseInPosition()}_setOffenseInPosition(){const t=u.default.game.players.getOffense().filter((t=>t.id!==this._playerWhoCalledPunt.id)),e=(new c.default).subtractByTeam(u.default.game.down.getSnapPosition().x,15*p.MAP_POINTS.YARD,u.default.game.offenseTeamId).calculate();return t.forEach((t=>{o.default.setPlayerDiscProperties(t.id,{x:e})})),this}_setDefenseInPosition(){const t=u.default.game.players.getDefense(),e=f.default.getTeamEndzone(u.default.game.defenseTeamId),a=(new c.default).subtractByTeam(e,2*p.MAP_POINTS.YARD,u.default.game.defenseTeamId).calculate();return t.forEach((t=>{o.default.setPlayerDiscProperties(t.id,{x:a})})),this}_createInvisibleWallForDefense(){return u.default.game.players.getDefense().forEach((t=>{const e=o.default.CollisionFlags,a=u.default.game.defenseTeamId===P.TEAMS.RED?e.red:e.blue;o.default.setPlayerDiscProperties(t.id,{cGroup:a|e.c0})})),this}_releaseInvisibleWallForDefense(){return u.default.game.players.getDefense().forEach((t=>{const e=o.default.CollisionFlags,a=u.default.game.defenseTeamId===P.TEAMS.RED?e.red:e.blue;o.default.setPlayerDiscProperties(t.id,{cGroup:a})})),this}}e.default=v},2369:function(t,e,a){var n=this&&this.__awaiter||function(t,e,a,n){return new(a||(a=Promise))((function(s,i){function r(t){try{l(n.next(t))}catch(t){i(t)}}function o(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(r,o)}l((n=n.apply(t,e||[])).next())}))},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(a(5693)),r=s(a(9972)),o=s(a(2992)),l=s(a(8375)),d=s(a(4064)),u=s(a(4340)),c=s(a(1234)),f=s(a(3160)),h=a(5256),m=s(a(2994)),y=a(2781),g=a(4798),p=s(a(1666)),P=s(a(5697)),_=a(2665),v=s(a(5198)),S=s(a(1858)),O=s(a(7117));class T extends f.default{constructor(t,e){super(t),this._blitzClockTime=0,this._ballMoveBlitzClockTime=0,this.BLITZ_TIME_SECONDS=12,this.BALL_MOVE_BLITZ_TIME_SECONDS=3,this.crowdChecker=new p.default,this.MAX_DRAG_DISTANCE=10,this._quarterback=e,this._ballCarrier=e}validateBeforePlayBegins(t){if(!1===S.default.game.canStartSnapPlay)throw new h.GameCommandError("Please wait a second before snapping the ball",!0);if(S.default.game.getTightEnd()===(null==t?void 0:t.id))throw new h.GameCommandError("You cannot snap the ball as a Tight End",!0);S.default.game.updateStaticPlayers(),S.default.game.players.savePlayerPositions();const{valid:e,penaltyName:a,player:n,penaltyData:s}=new x(t).validate();if(!e)throw this._handlePenalty(a,n,s),new h.GameCommandError("Penalty",!1)}prepare(){this.crowdChecker.setOffenseTeam(S.default.game.offenseTeamId),this.crowdChecker.setCrowdBoxArea(S.default.game.down.getLOS().x);const t=S.default.game.stateExists("curvePass"),e=S.default.game.stateExists("twoPointAttempt");this._setStartingPosition(S.default.game.down.getLOS()),this.setBallPositionOnSet(r.default.getPosition()),S.default.game.down.moveFieldMarkers(),this._getAllOffsideOffenseAndMove(),this._getAllOffsideDefenseAndMove(),this._startBlitzClock(),e&&this.setState("twoPointAttempt"),t&&this.setState("curvePass")}run(){this._setLivePlay(!0),r.default.release(),this.setState("ballSnapped"),i.default.sendMessageMaybeWithClock(`${u.default.GreenCircle} Ball is Hiked`,this.time)}cleanUp(){this._stopBlitzClock(),this._stopBallMoveBlitzClock()}getQuarterback(){return this._quarterback}findCrowderAndHandle(){const t=S.default.game.players.getFielded().filter((t=>t.id!==this._quarterback.id)),{isCrowding:e,crowdingData:a,crowder:n}=this.crowdChecker.checkPlayersInCrowdBox(t,S.default.game.getTime());return e?a.wasAlone?this._handlePenalty("crowdAbuse",n):this._handlePenalty("crowding",n):null}_handlePenalty(t,e,a={}){const s=Object.create(null,{_handlePenalty:{get:()=>super._handlePenalty}});return n(this,void 0,void 0,(function*(){if(this.stateExists("twoPointAttempt")||S.default.game.stateExists("twoPointAttempt")){(0,y.quickPause)();const n=S.default.game.down.getLOS().x,s=l.default.checkIfInRedzone(n)===S.default.game.defenseTeamId,{penaltyMessage:r}=(new m.default).getData(t,e,s,n,S.default.game.offenseTeamId,a);return i.default.send(`${u.default.YellowSquare} ${r}`),e.team===S.default.game.offenseTeamId?this._handleFailedTwoPointConversion():this._handleTwoPointTouchdown(null)}"crowding"!==t&&"crowdAbuse"!==t||(this._setLivePlay(!1),i.default.sendWarning("You cannot stand inside the red box for more than 3 seconds without an offensive player being present.",{id:e.id,color:O.default.LightRed}),this.crowdChecker.drawCrowdBoxLines(),setTimeout(this.crowdChecker.eraseCrowdBoxLines.bind(this.crowdChecker),2e3),a.delay=!0),s._handlePenalty.call(this,t,e,a)}))}endPlay(t){if(this.stateExists("twoPointAttempt"))return this._handleFailedTwoPointConversion();super.endPlay(t)}handleSafety(){if(this.stateExists("twoPointAttempt"))return this._setLivePlay(!1),i.default.send(`${u.default.Loudspeaker} Conversion safety!`),S.default.game.addScore(S.default.game.defenseTeamId,1),this._handleFailedTwoPointConversion();super._handleSafety()}handleAutoTouchdown(){i.default.send(`${u.default.Fire} Automatic Touchdown! - 3/3 Penalties`,{sound:2}),this.allowForTwoPointAttempt(),this.scorePlay(7,S.default.game.offenseTeamId,S.default.game.defenseTeamId)}handleTouchdown(t){return this.stateExistsUnsafe("twoPointAttempt")?this._handleTwoPointTouchdown(t):this._handleRegularTouchdown(t)}handleIllegalCrossOffense(t){this._handlePenalty("illegalLosCross",t)}handleIllegalBlitz(t){this._handlePenalty("illegalBlitz",t,{time:this._blitzClockTime})}handleBallInFrontOfLOS(){this._handlePenalty("illegalPass",this._quarterback)}handleDefenseLineBlitz(){this.setState("lineBlitzed"),this._ballCarrier&&v.default.setPlayerAvatar(this._ballCarrier.id,u.default.Football)}_updateStatsIfNotTwoPoint(t,e){this.stateExists("twoPointAttempt")||S.default.game.stats.updatePlayerStat(t,e)}_startBlitzClock(){this._blitzClock=setInterval(this._blitzTimerInterval.bind(this),1e3)}_blitzTimerInterval(){if(this._blitzClockTime++,this._blitzClockTime>=this.BLITZ_TIME_SECONDS)return this.setState("canBlitz"),this._stopBlitzClock()}_stopBlitzClock(){null!==this._blitzClock&&clearInterval(this._blitzClock)}_startBallMoveBlitzClock(){this._ballMoveBlitzClock=setInterval(this._ballMoveBlitzTimerInterval.bind(this),1e3)}_ballMoveBlitzTimerInterval(){if(this._ballMoveBlitzClockTime++,this._ballMoveBlitzClockTime>=this.BALL_MOVE_BLITZ_TIME_SECONDS){this.setState("canBlitz");const t=this.stateExists("ballPassed")||this.stateExists("ballRan")||this.stateExists("ballBlitzed");if(this._stopBallMoveBlitzClock(),t)return;i.default.send(`${u.default.Bell} Can Blitz`,{sound:2})}}_stopBallMoveBlitzClock(){null!==this._ballMoveBlitzClock&&clearInterval(this._ballMoveBlitzClock)}_getStatInfo(t){const e=S.default.game.down.getLOS().x,a=(new c.default).getSectionName(t,e,S.default.game.offenseTeamId);return{quarterback:this.getQuarterback(),mapSection:a}}_handleCatch(t){const{player:e,playerPosition:a}=t,{mapSection:n,quarterback:s}=this._getStatInfo(a);if(this._updateStatsIfNotTwoPoint(s.id,{passAttempts:{[n]:1}}),this.stateExists("curvePass")&&this._updateStatsIfNotTwoPoint(this.getQuarterback().id,{curvedPassAttempts:1}),l.default.checkIfPlayerOutOfBounds(a))return i.default.send(`${u.default.DoNotEnter} Pass Incomplete, caught out of bounds`),this.endPlay({});const r=d.default.adjustRawEndPosition(a,e.team);this.setState("catchPosition",r);const o=l.default.getNearestPlayerToPosition(S.default.game.players.getDefense(),r);o&&this.setState("nearestDefenderToCatch",o.player),this._updateStatsIfNotTwoPoint(s.id,{passCompletions:{[n]:1}}),this.stateExists("curvePass")&&this._updateStatsIfNotTwoPoint(this.getQuarterback().id,{curvedPassCompletions:1}),this.setState("ballCaught"),i.default.send(`${u.default.Football} Pass caught!`),this.setBallCarrier(e)}_handleRun(t){const{player:e}=t;i.default.send(`${u.default.Running} Ball Ran!`),this._makeOffenseBouncy(),this.setBallCarrier(e).setState("ballRan")}_handleIllegalTouch(t){this._handlePenalty("illegalTouch",t.player)}_getAllOffsideOffenseAndMove(){const t=l.default.findAllTeamPlayerOffside(S.default.game.players.getOffense(),S.default.game.offenseTeamId,S.default.game.down.getLOS().x),e=(new P.default).subtractByTeam(S.default.game.down.getLOS().x,15*g.MAP_POINTS.YARD,S.default.game.offenseTeamId).calculate();t.forEach((t=>{if(i.default.send("⚠️ You were offside (in front of the blue line), you have been moved 15 yards back.",{id:t.id}),S.default.game.checkIfPlayerIsTightEnd(t.id)){const a=v.default.getPlayerDiscProperties(t.id);return S.default.game.down.setTightEndPosition(t.id,{x:e,y:a.y})}v.default.setPlayerDiscProperties(t.id,{x:e,xspeed:0,yspeed:0})}))}_getAllOffsideDefenseAndMove(){const t=l.default.findAllTeamPlayerOffside(S.default.game.players.getDefense(),S.default.game.defenseTeamId,S.default.game.down.getLOS().x),e=(new P.default).subtractByTeam(S.default.game.down.getLOS().x,15*g.MAP_POINTS.YARD,S.default.game.defenseTeamId).calculate();t.forEach((t=>{i.default.send("⚠️ You were offside (in front of the blue line), you have been moved 15 yards back.",{id:t.id}),v.default.setPlayerDiscProperties(t.id,{x:e,xspeed:0,yspeed:0})}))}_handleCurvePass(t){const e=r.default.getPosition(),{playerPosition:a}=t;return a.y>e.y?r.default.setGravity({y:.09}):r.default.setGravity({y:-.09})}_handleBallContactQuarterback(t){const{type:e}=t;this.stateExists("ballPassed")||"touch"===e||(this.setState("ballPassed"),this._updateQBTimeAndDistanceMovedStat(),this.setBallCarrier(null),this.stateExists("curvePass")&&this._handleCurvePass(t))}_handleBallContactDuringInterception(t){return this.getState("interceptingPlayer").id!==t.player.id||this.stateExists("interceptionAttemptKicked")?this.handleUnsuccessfulInterception():"kick"===t.type?this._handleInterceptionKick(t):void 0}_handleInterceptionKick(t){this.setState("interceptionAttemptKicked"),this.setState("interceptionPlayerKickPosition",t.playerPosition),S.default.game.swapOffenseAndUpdatePlayers();const e=d.default.adjustRawEndPosition(t.playerPosition,S.default.game.offenseTeamId);this._setStartingPosition({x:e.x,y:e.y}),this.setBallCarrier(t.player,!1),setTimeout((()=>{if(this.stateExists("interceptionRuling"))return;const{xspeed:t}=r.default.getSpeed(),e=r.default.getPosition(),a=this.getState("interceptionBallPositionFirstTouch");return l.default.checkIfBallIsHeadedInIntTrajectory(t,a,e)?this.handleUnsuccessfulInterception():void 0}),3e3)}_handleInterceptionAttempt(t){if(!this.stateExists("twoPointAttempt"))return l.default.checkIfPlayerOutOfBounds(t.playerPosition)?this.handleUnsuccessfulInterception():(this.setState("interceptionAttempt"),this.setState("interceptingPlayer",t.player),this.setState("interceptionBallPositionFirstTouch",r.default.getPosition()),"kick"===t.type?this._handleInterceptionKick(t):void 0)}handleUnsuccessfulInterception(){return this.setState("interceptionRuling"),this.stateExists("interceptionAttemptKicked")&&S.default.game.swapOffenseAndUpdatePlayers(),this.endPlay({})}_handleSuccessfulInterception(){i.default.send(`${u.default.Target} Pass Intercepted!`);const t=this.getState("interceptingPlayer");if(this._updateStatsIfNotTwoPoint(t.id,{interceptionsReceived:1}),this._updateStatsIfNotTwoPoint(this._quarterback.id,{interceptionsThrown:1}),this.setState("interceptionRuling"),this.setState("ballIntercepted"),!this.stateExists("interceptionPlayerEndPosition"))return v.default.setPlayerAvatar(t.id,u.default.Football);const e=this.getState("interceptionPlayerEndPosition"),{endPosition:a}=this._getPlayDataOffense(e),{isSafety:n,isTouchback:s}=o.default.checkIfSafetyOrTouchbackPlayer(this.getState("interceptionPlayerKickPosition"),e,S.default.game.offenseTeamId);return n?this._handleSafety():s?this._handleTouchback():this.endPlay({newLosX:a.x,setNewDown:!0})}_handleInterceptionBallCarrierOutOfBounds(t){var e;if(this.stateExists("interceptionRuling")){const{endPosition:a,yardAndHalfStr:n}=this._getPlayDataOffense(t);i.default.send(`${null===(e=this._ballCarrier)||void 0===e?void 0:e.name} stepped out of bounds ${n}`);const{isSafety:s,isTouchback:r}=o.default.checkIfSafetyOrTouchbackPlayer(this.getState("interceptionPlayerKickPosition"),a,S.default.game.offenseTeamId);return s?this.handleSafety():r?this._handleTouchback():this.endPlay({newLosX:a.x,setNewDown:!0})}this.setState("interceptionPlayerEndPosition",t)}_handleTackle(t){const{endPosition:e,netYards:a,yardAndHalfStr:n,netYardsStr:s,yardsAfterCatch:r,yardsPassed:l}=this._getPlayDataOffense(t.ballCarrierPosition);if(o.default.checkIfSack(t.ballCarrierPosition,S.default.game.down.getLOS().x,S.default.game.offenseTeamId)&&!1===this.stateExists("ballRan")&&!1===this.stateExists("ballCaught")&&!1===this.stateExists("ballIntercepted"))i.default.send(`${u.default.HandFingersSpread} ${t.player.name} with the SACK!`),this._updateStatsIfNotTwoPoint(t.player.id,{sacks:1}),this._updateStatsIfNotTwoPoint(t.player.id,{qbSacks:1});else if(i.default.send(`${u.default.HandFingersSpread} Tackle ${n} | ${s}`),this.stateExists("ballRan")){this._updateStatsIfNotTwoPoint(t.player.id,{tackles:.5});const e=this.getState("runFirstTackler");this._updateStatsIfNotTwoPoint(e.id,{tackles:.5})}else this._updateStatsIfNotTwoPoint(t.player.id,{tackles:1});if(this.stateExists("ballRan")||this._ballCarrier.id===this._quarterback.id)this._updateStatsIfNotTwoPoint(t.player.id,{tackles:1}),this._updateStatsIfNotTwoPoint(this._ballCarrier.id,{rushingAttempts:1,rushingYards:a});else if(this.stateExists("ballCaught")){const{mapSection:t}=this._getStatInfo(this.getState("catchPosition"));if(this._updateStatsIfNotTwoPoint(this._ballCarrier.id,{receptions:{[t]:1},receivingYards:{[t]:a},receivingYardsAfterCatch:{[t]:r}}),this.stateExists("nearestDefenderToCatch")){const e=this.getState("nearestDefenderToCatch");this._updateStatsIfNotTwoPoint(e.id,{yardsAllowed:{[t]:a}})}this._updateStatsIfNotTwoPoint(this._quarterback.id,{passYards:{[t]:a},passYardsDistance:{[t]:l}})}if(this.stateExists("ballIntercepted"))return this.endPlay({newLosX:e.x,netYards:a,setNewDown:!0});const d=this.stateExists("catchPosition")?this.getState("catchPosition"):this._startingPosition,{isSafety:c}=o.default.checkIfSafetyOrTouchbackPlayer(d,e,S.default.game.offenseTeamId);if(c)return this.handleSafety();this.endPlay({newLosX:e.x,netYards:a})}_handleInterceptionTackle(t){if(this.stateExists("interceptionRuling"))return this._handleTackle(t);this.setState("interceptionPlayerEndPosition",t.playerPosition)}_handleRunTackle(t){!1===this.stateExists("runFirstTackler")&&(this.setState("runFirstTackler",t.player),i.default.send("First tackle"),setTimeout((()=>{this.setState("canSecondTackle")}),500));const e=this.getState("runFirstTackler").id===t.player.id;if(!1!==this.stateExists("canSecondTackle")||!e)return this._handleTackle(t)}_handleTwoPointTouchdown(t){i.default.send(`${u.default.Fire} Two point conversion!`,{sound:2}),this.scorePlay(1,S.default.game.offenseTeamId,S.default.game.defenseTeamId)}_handleFailedTwoPointConversion(){this.scorePlay(-1,S.default.game.offenseTeamId,S.default.game.defenseTeamId)}_makeOffenseBouncy(){S.default.game.players.getOffense().forEach((t=>{v.default.setPlayerDiscProperties(t.id,{bCoeff:.99,invMass:.55})}))}_updateQBTimeAndDistanceMovedStat(){const{position:t}=(0,y.getPlayerDiscProperties)(this._quarterback.id),e=S.default.game.down.getSnapPosition(),a=(new P.default).calcDifference3D(t,e).calculate(),n=(0,_.round)(a-g.MAP_POINTS.PLAYER_RADIUS,1),s=(0,_.round)(S.default.game.getTime()-this.time,1);this._updateStatsIfNotTwoPoint(this._quarterback.id,{distanceMovedBeforePassArr:[n],timeToPassArr:[s]})}_handleRegularTouchdown(t){var e,a,n,s;const{netYards:i,yardsPassed:r,yardsAfterCatch:o}=this._getPlayDataOffense(t);if((this.stateExistsUnsafe("ballRan")||(null===(e=this._ballCarrier)||void 0===e?void 0:e.id)===this._quarterback.id)&&this._updateStatsIfNotTwoPoint(null===(a=this._ballCarrier)||void 0===a?void 0:a.id,{rushingAttempts:1,rushingYards:i,touchdownsRushed:1}),this.stateExistsUnsafe("ballCaught")){const t=this.getState("catchPosition"),{mapSection:e}=this._getStatInfo(t);if(this._updateStatsIfNotTwoPoint(null===(n=this._ballCarrier)||void 0===n?void 0:n.id,{receptions:{[e]:1},receivingYards:{[e]:i},receivingYardsAfterCatch:{[e]:o},touchdownsReceived:1}),this.stateExists("nearestDefenderToCatch")){const t=this.getState("nearestDefenderToCatch");this._updateStatsIfNotTwoPoint(t.id,{yardsAllowed:{[e]:i}})}this._updateStatsIfNotTwoPoint(null===(s=this._quarterback)||void 0===s?void 0:s.id,{passYards:{[e]:i},passYardsDistance:{[e]:r},touchdownsThrown:1})}super.handleTouchdown(t)}}e.default=T;class w{constructor(t,e,a={}){this.penaltyName=t,this.player=e,this.penaltyData=a}}class x{constructor(t){this._player=t,this._playerPosition=(0,y.getPlayerDiscProperties)(this._player.id).position}_checkSnapOutOfBounds(){if(l.default.checkIfPlayerOutOfBounds(this._playerPosition))throw new w("snapOutOfBounds",this._player)}_checkSnapWithinHashes(){if(!l.default.checkIfWithinHash(this._playerPosition,g.MAP_POINTS.PLAYER_RADIUS))throw new w("snapOutOfHashes",this._player)}validate(){try{this._checkSnapWithinHashes(),this._checkSnapOutOfBounds()}catch(t){if(t instanceof w){const{penaltyName:e,player:a,penaltyData:n}=t;return{valid:!1,penaltyName:e,player:a,penaltyData:n}}console.log(t)}return{valid:!0}}}},4208:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(5693)),i=n(a(1858)),r=n(a(2992)),o=n(a(8375)),l=n(a(4340)),d=n(a(7872));class u extends d.default{onBallContact(t){this.stateExists("ballRan")||this.stateExists("fieldGoalBlitzed")||super.onBallContact(t)}onBallOutOfBounds(t){}onBallCarrierOutOfBounds(t){var e;const{endPosition:a,netYards:n,yardAndHalfStr:o,isTouchdown:d}=this._getPlayDataOffense(t);if(d)return this.handleTouchdown(t);s.default.send(`${l.default.Pushpin} ${this.getBallCarrier().name} went out of bounds ${o}`);const{isSafety:u,isTouchback:c}=r.default.checkIfSafetyOrTouchbackPlayer(this._startingPosition,a,i.default.game.offenseTeamId);return i.default.game.stats.updatePlayerStat(null===(e=this._ballCarrier)||void 0===e?void 0:e.id,{rushingAttempts:1,rushingYards:n}),u?this._handleSafety():c?this._handleTouchback():void this.endPlay({newLosX:a.x,netYards:n})}onBallCarrierContactOffense(t){const{player:e,playerPosition:a,ballCarrierPosition:n}=t;if(o.default.checkIfBehind(a.x,n.x,e.team))return this._handleRun(t);this.stateExists("fieldGoalKicked")||this._handlePenalty("illegalRun",e)}onBallCarrierContactDefense(t){this._handleTackle(t)}onKickDrag(){this._handlePenalty("fgDrag",this._kicker)}_onBallContactDefense(t){if(this.stateExists("fieldGoalKicked"))return console.log(this.readAllState()),this.stateExists("fieldGoalLineBlitzed")?this.handleUnsuccessfulFg("Field goal blocked!"):this.handleSuccessfulFg("Auto fg, defense kicked it");this.setState("fieldGoalBlitzed")}_onBallContactOffense(t){const{player:e}=t;return e.id===this._kicker.id?this._handleBallContactKicker(t):(s.default.send("Illegal fg, touched by offense"),this.endPlay({}))}}e.default=u},9378:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(5693)),i=n(a(9972)),r=n(a(2992)),o=n(a(8375)),l=n(a(4340)),d=n(a(7872)),u=n(a(1858));class c extends d.default{onBallCarrierContactDefense(t){const{endPosition:e,netYards:a,yardAndHalfStr:n,netYardsStr:i}=this._getPlayDataOffense(t.ballCarrierPosition);s.default.send(`${l.default.HandFingersSpread} Tackle ${n} | ${i}`),u.default.game.stats.updatePlayerStat(this._ballCarrier.id,{specReceptions:1,specReceivingYards:a}),u.default.game.stats.updatePlayerStat(t.player.id,{specTackles:1});const{isSafety:o,isTouchback:d}=r.default.checkIfSafetyOrTouchbackPlayer(this._startingPosition,e,u.default.game.offenseTeamId);return o?super._handleSafety():d?super._handleTouchback():void this.endPlay({newLosX:e.x,netYards:a})}onBallCarrierContactOffense(t){}onBallCarrierOutOfBounds(t){const{endPosition:e,yardAndHalfStr:a,netYards:n,netYardsStr:i,isTouchdown:o}=this._getPlayDataOffense(t);if(o)return this.handleTouchdown(t);s.default.send(`${this.getBallCarrier().name} went out of bounds ${a} | ${i}`),u.default.game.stats.updatePlayerStat(this._ballCarrier.id,{specReceptions:1,specReceivingYards:n});const{isSafety:l,isTouchback:d}=r.default.checkIfSafetyOrTouchbackPlayer(this._startingPosition,e,u.default.game.offenseTeamId);return l?super._handleSafety():d?super._handleTouchback():void this.endPlay({newLosX:e.x})}onBallContact(t){this.stateExists("kickOffCaught")||super.onBallContact(t)}onBallOutOfBounds(t){if(r.default.checkIfTouchbackBall(t,u.default.game.offenseTeamId))return this._handleTouchback();this._handleBallOutOfBounds(t)}onKickDrag(t){const e=u.default.game.players.getFielded(),{player:a}=o.default.getNearestPlayerToPosition(e,i.default.getPosition());!1===this.stateExists("kickOffKicked")&&u.default.game.swapOffenseAndUpdatePlayers(),this._handleOffensePenalty(a,"drag")}_onBallContactDefense(t){const{yardAndHalfStr:e,endPosition:a}=this._getPlayDataOffense(t.playerPosition);s.default.send(`${l.default.Pushpin} Ball downed by defense ${e}`);const{isTouchback:n}=r.default.checkIfSafetyOrTouchbackPlayer(a,a,u.default.game.offenseTeamId);if(n)return this._handleTouchback();this.endPlay({newLosX:a.x})}_onBallContactOffense(t){if(!1!==this.stateExists("kickOffKicked"))this._handleCatch(t);else if("kick"===t.type){this.setState("kickOffKicked"),this.setState("KickOffKicker",t.player);const{isOffsides:e,offsidesPlayer:a}=this._checkIfOffenseOffsidesOnKick();if(u.default.game.swapOffenseAndUpdatePlayers(),e)return this._handleOffensePenalty(a,"offsidesOffense")}}}e.default=c},2009:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(5693)),i=n(a(1858)),r=n(a(2992)),o=n(a(4340)),l=n(a(7872));class d extends l.default{onBallCarrierContactOffense(t){}onBallCarrierContactDefense(t){const{endPosition:e,netYards:a,yardAndHalfStr:n,netYardsStr:l}=this._getPlayDataOffense(t.ballCarrierPosition);s.default.send(`${o.default.HandFingersSpread} Tackle ${n} | ${l}`),i.default.game.stats.updatePlayerStat(this._ballCarrier.id,{specReceptions:1,specReceivingYards:a}),i.default.game.stats.updatePlayerStat(t.player.id,{specTackles:1});const{isSafety:d}=r.default.checkIfSafetyOrTouchbackPlayer(this._startingPosition,e,i.default.game.offenseTeamId);if(d)return super._handleSafety();this.endPlay({newLosX:e.x,netYards:a})}onBallCarrierOutOfBounds(t){if(!1===this.stateExists("onsideKickKicked"))return this._handleUnsuccessfulOnsideKick("Kicker went out of bounds");const{endPosition:e,yardAndHalfStr:a,netYards:n,netYardsStr:o}=this._getPlayDataOffense(t);s.default.send(`${this.getBallCarrier().name} went out of bounds ${a} | ${o}`),i.default.game.stats.updatePlayerStat(this._ballCarrier.id,{specReceptions:1,specReceivingYards:n});const{isSafety:l}=r.default.checkIfSafetyOrTouchbackPlayer(this._startingPosition,e,i.default.game.offenseTeamId);if(l)return super._handleSafety();this.endPlay({newLosX:e.x})}onBallContact(t){this.stateExists("onsideKickCaught")||super.onBallContact(t)}onBallOutOfBounds(t){this._handleUnsuccessfulOnsideKick("Kick went out of bounds")}onKickDrag(t){this._handlePenalty("onsideKickDrag",this._kicker),this._handleUnsuccessfulOnsideKick(null)}_onBallContactDefense(t){return t.player.id===this._kicker.id?this._handleBallContactKicker(t):this._handleUnsuccessfulOnsideKick("Illegaly touched by kicking team")}_onBallContactOffense(t){return t.player.id===this._kicker.id?this._handleBallContactKicker(t):!1===this.stateExists("onsideKickKicked")?this._handleUnsuccessfulOnsideKick("Illegaly touched by kicking team"):void this._handleCatch(t)}}e.default=d},4016:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(9972)),i=n(a(5693)),r=n(a(1858)),o=a(5697),l=n(a(2992)),d=n(a(8375)),u=n(a(4175)),c=n(a(4064)),f=n(a(4340)),h=n(a(7872));class m extends h.default{onBallContact(t){this.stateExists("puntCaught")||super.onBallContact(t)}onBallOutOfBounds(t){const e=c.default.adjustBallPositionOnOutOfBounds(t,r.default.game.offenseTeamId),a=o.DistanceConverter.toYardLine(e.x),n=u.default.formatYardAndHalfStr(a,e.x);if(i.default.send(`${f.default.Pushpin} Ball went out of bounds ${n}`),l.default.checkIfTouchbackBall(t,r.default.game.offenseTeamId))return this._handleTouchback();this._endPlayAndSetNewDown({newLosX:e.x})}onBallCarrierOutOfBounds(t){const{endPosition:e,yardAndHalfStr:a,netYards:n,netYardsStr:s,isTouchdown:o}=this._getPlayDataOffense(t);if(o)return this.handleTouchdown(t);i.default.send(`${this.getBallCarrier().name} went out of bounds ${a} | ${s}`),r.default.game.stats.updatePlayerStat(this._ballCarrier.id,{specReceptions:1,specReceivingYards:n});const{isSafety:d,isTouchback:u}=l.default.checkIfSafetyOrTouchbackPlayer(this._startingPosition,e,r.default.game.offenseTeamId);return d?super._handleSafety():u?super._handleTouchback():void this._endPlayAndSetNewDown({newLosX:e.x})}onBallCarrierContactOffense(t){}onBallCarrierContactDefense(t){const{endPosition:e,netYards:a,yardAndHalfStr:n,netYardsStr:s}=this._getPlayDataOffense(t.ballCarrierPosition);i.default.send(`${f.default.HandFingersSpread} Tackle ${n} | ${s}`),r.default.game.stats.updatePlayerStat(this._ballCarrier.id,{specReceptions:1,specReceivingYards:a}),r.default.game.stats.updatePlayerStat(t.player.id,{specTackles:1});const{isSafety:o,isTouchback:d}=l.default.checkIfSafetyOrTouchbackPlayer(this._startingPosition,e,r.default.game.offenseTeamId);return o?super._handleSafety():d?super._handleTouchback():void this._endPlayAndSetNewDown({newLosX:e.x,netYards:a})}onKickDrag(t){const e=r.default.game.players.getFielded(),{player:a}=d.default.getNearestPlayerToPosition(e,s.default.getPosition());this._handleOffensePenalty(a,"puntDrag")}_onBallContactOffense(t){const{player:e}=t;if(!1!==this.stateExists("puntKicked"))this._handleCatch(t);else if("kick"===t.type){this.setState("puntKicked"),this.setState("puntKicker",e),this._releaseInvisibleWallForDefense(),r.default.game.swapOffenseAndUpdatePlayers();const{isOffsides:t,offsidesPlayer:a}=this._checkIfOffenseOffsidesOnKick(e);if(t)return this._handleOffensePenalty(a,"puntOffsidesOffense")}}_onBallContactDefense(t){const{yardAndHalfStr:e,endPosition:a}=this._getPlayDataOffense(t.playerPosition);i.default.send(`${f.default.Pushpin} Ball downed by defense ${e}`);const{isTouchback:n}=l.default.checkIfSafetyOrTouchbackPlayer(this._startingPosition,a,r.default.game.offenseTeamId);if(n)return this._handleTouchback();this._endPlayAndSetNewDown({newLosX:a.x})}}e.default=m},3160:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(5693)),i=n(a(1858)),r=n(a(2992)),o=n(a(8375)),l=n(a(4340)),d=n(a(7872));class u extends d.default{onBallContact(t){if(!(this.stateExists("ballCaught")||this.stateExists("ballRan")||this.stateExists("ballBlitzed")||this.stateExists("interceptionRuling")))return this.stateExists("interceptionAttempt")?this._handleBallContactDuringInterception(t):void super.onBallContact(t)}onBallOutOfBounds(t){if(this.stateExists("interceptionAttempt"))return r.default.checkIfInterceptionSuccessful(t)?this._handleSuccessfulInterception():this.handleUnsuccessfulInterception();const{mapSection:e}=this._getStatInfo(t);return this._updateStatsIfNotTwoPoint(this.getQuarterback().id,{passAttempts:{[e]:1}}),this.stateExists("curvePass")&&this._updateStatsIfNotTwoPoint(this.getQuarterback().id,{curvedPassAttempts:1}),s.default.send(`${l.default.DoNotEnter} Incomplete - Pass out of bounds!`),this.endPlay({})}onBallCarrierOutOfBounds(t){var e,a,n;if(this.stateExists("interceptionAttempt"))return this._handleInterceptionBallCarrierOutOfBounds(t);const o=this.stateExists("catchPosition")?this.getState("catchPosition"):this._startingPosition,{endPosition:d,netYards:u,yardAndHalfStr:c,netYardsStr:f,yardsPassed:h,yardsAfterCatch:m,isTouchdown:y}=this._getPlayDataOffense(t);if(y)return this.handleTouchdown(t);s.default.send(`${l.default.Pushpin} ${this.getBallCarrier().name} stepped out of bounds ${c} | ${f}`);const{isSafety:g}=r.default.checkIfSafetyOrTouchbackPlayer(o,d,i.default.game.offenseTeamId);if(this.getQuarterback().id===(null===(e=this._ballCarrier)||void 0===e?void 0:e.id)||this.stateExists("ballRan"))this._updateStatsIfNotTwoPoint(null===(a=this._ballCarrier)||void 0===a?void 0:a.id,{rushingAttempts:1,rushingYards:u});else{const t=this.getState("catchPosition"),{mapSection:e}=this._getStatInfo(t);if(this._updateStatsIfNotTwoPoint(null===(n=this._ballCarrier)||void 0===n?void 0:n.id,{receptions:{[e]:1},receivingYards:{[e]:u},receivingYardsAfterCatch:{[e]:m}}),this.stateExists("nearestDefenderToCatch")){const t=this.getState("nearestDefenderToCatch");this._updateStatsIfNotTwoPoint(t.id,{yardsAllowed:{[e]:u}})}this._updateStatsIfNotTwoPoint(this.getQuarterback().id,{passYards:{[e]:u},passYardsDistance:{[e]:h}})}if(g)return this._handleSafety();this.endPlay({newLosX:d.x,netYards:u})}onBallCarrierContactOffense(t){const{player:e,playerPosition:a,ballCarrierPosition:n}=t;if(o.default.checkIfBehind(a.x,n.x,e.team))return this._handleRun(t);this._handlePenalty("illegalRun",e)}onBallCarrierContactDefense(t){return this.stateExists("interceptingPlayer")?this._handleInterceptionTackle(t):this.stateExists("ballRan")?this._handleRunTackle(t):void this._handleTackle(t)}onKickDrag(t){this.setState("ballDragged"),this._startBallMoveBlitzClock()}_onBallContactDefense(t){if(!this.stateExists("ballPassed"))return this.setState("ballBlitzed");const{mapSection:e}=this._getStatInfo(t.playerPosition);this._updateStatsIfNotTwoPoint(t.player.id,{passDeflections:{[e]:1}}),this._updateStatsIfNotTwoPoint(this.getQuarterback().id,{passAttempts:{[e]:1}}),this.stateExists("curvePass")&&this._updateStatsIfNotTwoPoint(this.getQuarterback().id,{curvedPassAttempts:1}),s.default.send(`${l.default.DoNotEnter} Incomplete - Pass Deflected`),this.setState("ballDeflected"),this._handleInterceptionAttempt(t)}_onBallContactOffense(t){if(this.stateExists("ballDeflected"))return this._handleBallContactDuringInterception(t);const{player:e}=t,{id:a}=e;return a===this.getQuarterback().id?this._handleBallContactQuarterback(t):!1===this.stateExists("ballPassed")?this._handleIllegalTouch(t):void this._handleCatch(t)}}e.default=u},7701:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SHOW_DEBUG_CHAT=void 0,e.SHOW_DEBUG_CHAT=!1,e.default={roomName:"🏈 HAXFOOTBALL 🏈",maxPlayers:14,noPlayer:!0,public:!1,token:"thr1.AAAAAGMNadttLVu4P5C9sg.9q-Qd9SkTBk"}},9972:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(4798),i=n(a(5198)),r=a(3279);e.default=new class{constructor(){this.IMMOVABLE_INV_MASS=1e-5}getPosition(){return i.default.getBallPosition()}getSpeed(){const{xspeed:t,yspeed:e}=i.default.getDiscProperties(s.DISC_IDS.BALL);return{xspeed:t,yspeed:e}}setPosition(t){const{x:e,y:a=0}=t;return i.default.setDiscProperties(s.DISC_IDS.BALL,{x:e,y:a,xspeed:0,yspeed:0,ygravity:0}),this}suppress(){return i.default.setDiscProperties(s.DISC_IDS.BALL,{invMass:this.IMMOVABLE_INV_MASS,xspeed:0,yspeed:0}),this}release(){return i.default.setDiscProperties(s.DISC_IDS.BALL,{invMass:1,xspeed:0,yspeed:0}),this}score(t){const e=t===r.TEAMS.BLUE?s.MAP_POINTS.BLUE_SCORE_LINE:s.MAP_POINTS.RED_SCORE_LINE;i.default.setDiscProperties(s.DISC_IDS.BALL,{x:e,y:-200,xspeed:0,yspeed:0,ygravity:.015,invMass:this.IMMOVABLE_INV_MASS})}setGravity({x:t,y:e}){return"number"==typeof t&&i.default.setDiscProperties(s.DISC_IDS.BALL,{xgravity:t}),"number"==typeof e&&i.default.setDiscProperties(s.DISC_IDS.BALL,{ygravity:e}),this}removeGravity(){return i.default.setDiscProperties(s.DISC_IDS.BALL,{invMass:1,xspeed:0,ygravity:0}),this}}},5693:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MESSAGE_STYLE=void 0;const s=n(a(5198)),i=n(a(4175)),r=n(a(7117)),o=n(a(4340));e.MESSAGE_STYLE={Bold:"bold",Italic:"italic",Small:"small",Small_bold:"small-bold",Small_italic:"small-italic"},e.default=new class{constructor(){this.PREFIX={TEAMCHAT:"t",COMMAND:"!"},this.silenced=!1}_getAutoSizedStyle(t,a){return t.length>=100?e.MESSAGE_STYLE.Small:a}_sendMessage(t,e){const{icon:a="",info:n="",id:i=null,color:r=null,style:o=null,sound:l=null,autoSize:d=!0}=e,u=[a,n,t].map((t=>t.length>0?t+" ":t)).join("").trim(),c=null===o&&d?this._getAutoSizedStyle(t,o):o;s.default.sendAnnouncement(u,i,r,c,l)}send(t,e={}){this._sendMessage(t,e)}sendMessageMaybeWithClock(t,e){const a=i.default.formatMessageMaybeWithClock(t,e);this._sendMessage(a,{})}sendSuccess(t,e={}){e.icon=o.default.GreenCheck,e.color=r.default.Lime,this._sendMessage(t,e)}sendAnnouncement(t,e={}){e.color=r.default.Orange,this._sendMessage(t,e)}sendNotification(t,e={}){e.icon=o.default.Bell,e.sound=2,this._sendMessage(t,e)}sendWarning(t,e={}){e.icon=o.default.OrangeTriangle,e.sound=2,this._sendMessage(t,e)}sendError(t,e={}){e.icon=o.default.Exclamation,e.color=r.default.LightRed,this._sendMessage(t,e)}sendBotError(t,e={}){e.icon=o.default.Construction,e.color=r.default.Yellow,this._sendMessage(t,e)}}},3768:function(t,e,a){var n=this&&this.__createBinding||(Object.create?function(t,e,a,n){void 0===n&&(n=a);var s=Object.getOwnPropertyDescriptor(e,a);s&&!("get"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[a]}}),Object.defineProperty(t,n,s)}:function(t,e,a,n){void 0===n&&(n=a),t[n]=e[a]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)"default"!==a&&Object.prototype.hasOwnProperty.call(t,a)&&n(e,t,a);return s(e,t),e},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=r(a(5693)),l=i(a(5256)),d=r(a(4999)),u=i(a(7202)),c=r(a(5382)),f=r(a(7117)),h=r(a(1858)),m=a(3279);e.default=class{static handleOffensiveMessage(t){return!1}static maybeHandleTeamChat(t){if(t.author.team===m.TEAMS.SPECTATORS)return!1;const e=t.author.team===m.TEAMS.RED?h.default.players.getRed():h.default.players.getBlue(),a=t.author.team===m.TEAMS.RED?f.default.HaxballRed:f.default.HaxballBlue,n=t.content.substring(o.default.PREFIX.TEAMCHAT.length).trim(),s=`${t.author.shortName}: ${n}`;return e.forEach((t=>{o.default.send(s,{color:a,id:t.id})})),!1}static handlePlayerMuted(t){return t.reply("You are muted"),!1}static handleChatSilenced(t){return t.reply("The chat is silenced"),!1}static maybeHandleCommand(t){const e=new c.default(t.content,t.author),a=new u.default(e);try{if(!a.loadCommand())throw new u.CommandError(`Command ${e.commandName} does not exist`);a.validateAndRun()}catch(e){if(e instanceof u.CommandError){const a=e;t.replyError(a.errorMsg)}else o.default.sendBotError(e.message);return!1}return!1}static handleGameCommand(t){const e=d.default.get(t.content.toLowerCase());try{new l.default(t,e).validateAndRun()}catch(e){if(e instanceof l.GameCommandError){const a=e;a.sendToPlayer&&t.replyError(a.message)}else o.default.sendBotError(e.message);return!1}return e.showCommand}}},8224:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(5693)),i=n(a(7117));e.default=class{static greetPlayer(t){s.default.send("!rules for rules, !stats for stats",{id:t.id,color:i.default.LightBlue}),s.default.send("Whats new: Bug Fixes",{id:t.id,color:i.default.LightGreen})}}},1285:function(t,e,a){var n=this&&this.__awaiter||function(t,e,a,n){return new(a||(a=Promise))((function(s,i){function r(t){try{l(n.next(t))}catch(t){i(t)}}function o(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(r,o)}l((n=n.apply(t,e||[])).next())}))},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(a(5693)),r=a(2665),o=[{text:"!stats or !stats partialplayername to view your stats or that of another player",weight:.3},{text:"Join our Discord discord.gg/VdrD2p7",weight:.3}];e.default=class{static run(){setInterval((()=>n(this,void 0,void 0,(function*(){const t=(0,r.randFromArrayWeighted)(o).text;i.default.send(t,{sound:0})}))),14e4)}}},3445:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(5198)),i=n(a(1858)),r=n(a(3517)),o=a(2781),l=a(3279),d=a(2665);e.default=class{constructor(){this.records=new r.default,this._playersStatic={fielded:[],offense:[],defense:[]},this.playerPositionsMap=new Map}savePlayerPositions(){this._playersStatic.fielded.forEach((t=>{const{position:e}=(0,o.getPlayerDiscProperties)(t.id);this.playerPositionsMap.set(t.id,{team:t.team,position:e})}))}updateStaticPlayerList(t){const e=s.default.getPlayerList().filter((t=>0!==t.team)),[a,n]=(0,d.partition)(e,(e=>e.team===t));this._playersStatic={fielded:e,offense:a,defense:n}}getFielded(){return this._playersStatic.fielded}getDefense(){return this._playersStatic.defense}getOffense(){return this._playersStatic.offense}getOffenseDefense(){return{offense:this._playersStatic.offense,defense:this._playersStatic.defense}}handlePlayerTeamChange(t,e){const{playerRecord:a,hasPlayerRecord:n}=this._getPlayerRecordSubIn(t.id);return!1===n?this.subIn(t,e):t.team===l.TEAMS.SPECTATORS?this.subOut(t,e,{}):0!==a.substitutions.length&&a.substitutions[a.substitutions.length-1].toTeam!==l.TEAMS.SPECTATORS?(this.subOut(t,e,{}),this.subIn(t,e)):this.subIn(t,e)}getPlayerRecordById(t){return this.records.findOne({ids:[t]})}subIn(t,e){const{playerRecord:a,hasPlayerRecord:n,playerProfile:s}=this._getPlayerRecordSubIn(t.id);if(n){const n=a.substitutions[a.substitutions.length-1];if("IN"===(null==n?void 0:n.type))throw Error(`Player ${s.name} was attempted to be subbed in but is already on the field`);return a.substitutions.push({time:e,type:"IN",fromTeam:a.team,toTeam:t.team}),a.team=t.team,a.ids=[...a.ids,t.id],a.name=t.name,a.recordId}return this.records.set(s.id,{auth:s.auth,recordId:s.id,ids:[s.id],name:s.name,ip:s.ip,team:t.team,substitutions:[{time:e,type:"IN",fromTeam:l.TEAMS.SPECTATORS,toTeam:t.team}],wasAtEndOfGame:!1}),s.id}subOut(t,e,a){const n=this._getPlayerRecordSubOut(t.id),{isAtGameEnd:s=!1,wasLeave:i=!1}=a;if(0===n.substitutions.length)throw Error(`Player ${n.name} was subbed out, but did not have a record of being subbed in`);return n.substitutions.push({time:e,type:"OUT",fromTeam:n.team,toTeam:l.TEAMS.SPECTATORS,wasLeave:i}),s&&(n.wasAtEndOfGame=!0),n.recordId}_getPlayerRecordSubOut(t){const e=this.records.findOne({ids:[t]});if(!e)throw Error(`No player record found with ID ${t}`);return e}_getPlayerRecordSubIn(t){const e=i.default.players.playerCollection.get(t);if(!e)throw Error(`No player profile found for id ${t}`);const a=this.records.findOne({auth:e.auth});return{playerRecord:a,hasPlayerRecord:Boolean(a),playerProfile:e}}}},1288:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(3517));e.default=class{constructor(){this.mutedCollection=new s.default}addMute(t){const e={name:t.name,auth:t.auth,id:t.id};this.mutedCollection.set(t.auth,e)}removeMute(t){this.mutedCollection.delete(t)}}},5233:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(5198)),i=n(a(1842)),r=n(a(3517)),o=a(3279),l=n(a(1288));e.default=class{constructor(){this.playerCollection=new r.default,this.muted=new l.default}findOne(t){return this.playerCollection.findOne(t)}find(t){return this.playerCollection.find(t)}getByName(t){const e=this.getPlayable(),a=e.find((e=>e.lowerName===t));if(a)return a;const n=e.filter((e=>e.lowerName.startsWith(t)));return n.length>1?-1:0===n.length?null:n[0]}createAndAdd(t){const e=this._createPlayer(t);return this.playerCollection.set(t.id,e),e}delete(t){const e=this.playerCollection.get(t.id);return e?(this.playerCollection.delete(t.id),e):null}getPlayable(){return this._sortByOrderInPlayerList(this.playerCollection.find({canPlay:!0,isAFK:!1}))}getPlayableSpecs(){return this._sortByOrderInPlayerList(this.playerCollection.find({canPlay:!0,team:o.TEAMS.SPECTATORS,isAFK:!1}))}getRed(){return this._sortByOrderInPlayerList(this.playerCollection.find({team:o.TEAMS.RED}))}getBlue(){return this._sortByOrderInPlayerList(this.playerCollection.find({team:o.TEAMS.BLUE}))}getFielded(){return this._sortByOrderInPlayerList(this.playerCollection.find().filter((t=>t.team!==o.TEAMS.SPECTATORS)))}_createPlayer(t){return new i.default(t)}_sortByOrderInPlayerList(t){const e=s.default.getPlayerList(),a=e.reduce(((t,a)=>(t[a.id]=e.findIndex((t=>t.id===a.id)),t)),{});return t.sort(((t,e)=>a[t.id]-a[e.id]))}}},1858:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(4131)),i=n(a(7826)),r=a(2665),o=n(a(1285)),l=n(a(5233));e.default=new class{constructor(){this.sessionId=(0,r.getRandomChars)(4).toLowerCase(),this.roomId=1,this.players=new l.default,this._game=null,this._isBotOn=!0,this._playerTestingId=1}onRoomLoad(){o.default.run(),console.log(`Admin Code: ${this.sessionId}`)}get game(){return this._game}get isBotOn(){return this._isBotOn}turnBotOff(){this._isBotOn=!1}turnBotOn(){this._isBotOn=!0}getPlayerTestingId(){return this._playerTestingId}setPlayerTestingId(t){this._playerTestingId=t}getPlay(){if(!this.game.play)throw new Error("Game Error: Play is not defined");return this.game.play}startNewGame(){this._game=new s.default;const t=this.players.getFielded();this._game.players.updateStaticPlayerList(this.game.offenseTeamId),t.forEach((t=>{const e=this._game.players.subIn(t.playerObject,0);this._game.stats.maybeCreateStatProfile(e)})),this.game.setPlay(new i.default(0),null)}}},5697:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DistanceConverter=void 0;const s=a(4798),i=a(3279),r=a(2665),o=n(a(8375));class l{static toYardLine(t){return(s.MAP_POINTS.HALF_FIELD-Math.abs(t))/s.MAP_POINTS.YARD}static toYard(t){return t/s.MAP_POINTS.YARD}static yardToDistance(t){return t*s.MAP_POINTS.YARD}}e.DistanceConverter=l;class d{constructor(t=0){this._calculation=t}calcDifference2D(t,e){return this._calculation=Math.abs(t-e),this}calcDifference3D(t,e){const a=t.x-e.x,n=t.y-e.y;return this._calculation=Math.hypot(a,n),this}calcNetDifferenceByTeam(t,e,a){const n=t-e;return a===i.TEAMS.RED?(n>0&&(this._calculation=-n),n<0&&(this._calculation=Math.abs(n))):this._calculation=n,this}subtractByTeam(t,e,a){return this._calculation=a===i.TEAMS.RED?t-e:t+e,this}addByTeam(t,e,a){return this._calculation=a===i.TEAMS.RED?t+e:t-e,this}constrainToEndzonePoints(){const t=(0,r.limitNumberWithinRange)(this._calculation,s.MAP_POINTS.RED_GOAL_LINE,s.MAP_POINTS.BLUE_GOAL_LINE);return this._calculation=t,this}roundUpToYardIfBetweenTeamEndzoneAndOneYard(t){const e=o.default.getTeamEndzone(t),a=(new d).addByTeam(e,s.MAP_POINTS.YARD,t).calculate(),n=o.default.checkIfBehind(this._calculation,a,t),i=o.default.checkIfInFront(this._calculation,e,t);return n&&i&&(this._calculation=a),this}roundToYardByTeam(t){const{YARD:e}=s.MAP_POINTS;return this._calculation=t===i.TEAMS.RED?e*Math.floor(this._calculation/e):e*Math.ceil(this._calculation/e),this}calculate(){return this._calculation}calculateAndConvert(){return{distance:this._calculation,yards:l.toYard(this._calculation),yardLine:l.toYardLine(this._calculation)}}}e.default=d},4198:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0});const n=a(4798),s=a(3279),i=a(2665);e.default=new class{constructor(){this.formatPositionToMapHalf=t=>t>n.MAP_POINTS.KICKOFF?"BLUE ":t<n.MAP_POINTS.KICKOFF?"RED ":"",this.formatPositionToMapHalfInt=t=>t>n.MAP_POINTS.KICKOFF?s.TEAMS.BLUE:s.TEAMS.RED}formatRedZonePenalties(t){return 0===t?"":` [${t}/3]`}formatDown(t){return(0,i.toOrdinalSuffix)(t)}formatYardsToGain(t,e){return t<=n.MAP_POINTS.RED_GOAL_LINE||t>=n.MAP_POINTS.BLUE_GOAL_LINE?"GOAL":e}}},2992:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(4798),i=a(3279),r=n(a(8375)),o=n(a(4064));class l{static checkIfSafetyBall(t,e){return r.default.getEndZonePositionIsIn(t)===e}static checkIfSack(t,e,a){return r.default.checkIfBehind(t.x,e,a)}static checkIfTouchbackBall(t,e){return r.default.getEndZonePositionIsIn(t)===e}static checkIfTouchdown(t,e){const a=o.default.adjustPlayerPositionFront(t,e),n=r.default.getEndZonePositionIsIn(a);return Boolean(n)&&n!==e}static checkIfFieldGoalSuccessful(t,e){const{x:a,y:n}=t,{RED_FIELD_GOAL_LINE:o,BLUE_FIELD_GOAL_LINE:l,TOP_FG_POST:d,BOTTOM_FG_POST:u}=s.MAP_POINTS,c=e===i.TEAMS.RED?a>l:a<o,f=r.default.checkIfBetweenY(n,d,u);return c&&f}static checkIfInterceptionWithinTime(t,e){return t-e<5}static checkIfInterceptionSuccessful(t){const e=r.default.checkIfBallBetweenFGPosts(t,i.TEAMS.RED),a=r.default.checkIfBallBetweenFGPosts(t,i.TEAMS.BLUE);return e||a}}e.default=l,l.checkIfSafetyOrTouchbackPlayer=(t,e,a)=>{const n=r.default.getEndZonePositionIsIn({x:e.x,y:e.y});return n&&n===a?Boolean(r.default.getEndZonePositionIsIn(t))?{isSafety:!1,isTouchback:!0}:{isSafety:!0,isTouchback:!1}:{isSafety:!1,isTouchback:!1}}},8375:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(2781),i=a(4798),r=a(3279),o=a(2665),l=n(a(5697)),d=n(a(4064));e.default=new class{constructor(){this.getEndZonePositionIsIn=t=>{const{RED_GOAL_LINE:e,BLUE_GOAL_LINE:a}=i.MAP_POINTS;return t.x<=e?1:t.x>=a?2:null},this.checkIfBallOutOfBounds=t=>this._checkIfOutOfBounds(t,i.MAP_POINTS.BALL_RADIUS)?t:null,this.getOpposingTeamEndzone=t=>t===r.TEAMS.RED?i.MAP_POINTS.BLUE_GOAL_LINE:i.MAP_POINTS.RED_GOAL_LINE}_checkIfOutOfBounds(t,e){const{x:a,y:n}=t,{topSideLine:s,botSideLine:i,redSideLine:r,blueSideLine:o}=d.default.adjustMapCoordinatesForRadius(e);return n<s||n>i||a<r||a>o}findTeamPlayerOffside(t,e,a){return t.find((t=>{const{position:n}=(0,s.getPlayerDiscProperties)(t.id),{x:i}=d.default.adjustPlayerPositionFront(n,e);return!this.checkIfBehind(i,a,e)}))}findTeamPlayerOffsideNoAdjust(t,e,a){return t.find((t=>{const{position:{x:n}}=(0,s.getPlayerDiscProperties)(t.id);return!this.checkIfBehind(n,a,e)}))}findAllTeamPlayerOffside(t,e,a){return t.filter((t=>{const{position:{x:n}}=(0,s.getPlayerDiscProperties)(t.id),r=(new l.default).addByTeam(n,i.MAP_POINTS.PLAYER_RADIUS,e).calculate();return!1===this.checkIfBehind(r,a,e)}))}checkIfPlayerOutOfBounds(t){return this._checkIfOutOfBounds(t,i.MAP_POINTS.PLAYER_RADIUS)?t:null}checkIfBallInFrontOfLOS(t,e,a){return this.checkIfInFront(t.x,e,a)}checkIfBallDragged(t,e,a){return(new l.default).calcDifference3D(t,e).calculate()>a}checkIfInRedzone(t){return t>=i.MAP_POINTS.BLUE_REDZONE?r.TEAMS.BLUE:t<=i.MAP_POINTS.RED_REDZONE?r.TEAMS.RED:null}checkIfBehind(t,e,a){return a===r.TEAMS.RED?t<=e:t>=e}checkIfInFront(t,e,a){return a===r.TEAMS.RED?t>=e:t<=e}checkIfBallBetweenFGPosts(t,e){const{topFG:a,botFG:n,redFG:s,blueFG:r}=d.default.adjustMapCoordinatesForRadius(i.MAP_POINTS.BALL_RADIUS),o=1===e?this.checkIfBehind(t.x,s,1):this.checkIfBehind(t.x,r,2),l=this.checkIfBetweenY(t.y,a,n);return o&&l}checkIfBetweenY(t,e,a){return t>=e&&t<=a}checkIfWithinHash(t,e){const{y:a}=t,{topHash:n,botHash:s}=d.default.adjustMapCoordinatesForRadius(e);return a>n&&a<s}checkIfBallIsHeadedInIntTrajectory(t,e,a){const{TOP_FG_POST:n,BOTTOM_FG_POST:s,RED_SIDELINE:r,BLUE_SIDELINE:l}=i.MAP_POINTS,d=t<0?r:l,u=(0,o.extrapolateLine)(e,a,d);return!this.checkIfBetweenY(u.y,n,s)}checkIfBallIsMoving(t){const{xspeed:e}=t;return Math.abs(e)>.05}getTeamEndzone(t){return t===r.TEAMS.RED?i.MAP_POINTS.RED_GOAL_LINE:i.MAP_POINTS.BLUE_GOAL_LINE}getClosestPositionToOtherPosition(t,e){return t.reduce(((t,a,n)=>{const s=(new l.default).calcDifference3D(a,e).calculate();return null===t.distanceToPosition||s<t.distanceToPosition?{index:n,distanceToPosition:s}:t}),{index:-1,distanceToPosition:null})}getNearestPlayerToPosition(t,e){const a=t.map((t=>{const{position:e}=(0,s.getPlayerDiscProperties)(t.id);return e||null})).filter((t=>null!==t));if(0===a.length)return null;const{index:n,distanceToPosition:i}=this.getClosestPositionToOtherPosition(a,e);return{player:t[n],distanceToPosition:i}}getIntendedTargetStr(t,e,a){const n=3*i.MAP_POINTS.YARD;t=t.filter((t=>t.id!==a));const s=this.getNearestPlayerToPosition(t,e);if(null===s||null===s.distanceToPosition)return"";const{player:r,distanceToPosition:o}=s;return r&&o>n?"":`intended for ${r.name.trim()} `}getMapHalfFromPoint(t){return t>i.MAP_POINTS.KICKOFF?r.TEAMS.BLUE:t<i.MAP_POINTS.KICKOFF?r.TEAMS.RED:0}}},4175:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=a(2781),i=a(2665),r=n(a(4198));e.default=class{static formatYardAndHalfStr(t,e){const a=r.default.formatPositionToMapHalf(e);return t<=0?"in the endzone":`at the ${a}${t}`}static formatNetYardsMessage(t){const e=(0,i.plural)(t,"yard","yards");return t>0?`+${e}`:t<0?`-${e}`:"no gain"}static formatNetYardsMessageFull(t){const e=(0,i.plural)(Math.abs(t),"yard","yards");return t>0?`for a gain of ${e}`:t<0?`for a loss of ${e}`:"for no gain"}static formatMessageMaybeWithClock(t,e){return`${t} ${e>=720?(0,s.toClock)(e):""}`}static formatMapSectionName(t){return{cornerBottom:"bottom corner",cornerTop:"top corner",deep:"deep",middle:"middle",backwards:"backwards"}[t]}}},2994:function(t,e,a){var n=this&&this.__createBinding||(Object.create?function(t,e,a,n){void 0===n&&(n=a);var s=Object.getOwnPropertyDescriptor(e,a);s&&!("get"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[a]}}),Object.defineProperty(t,n,s)}:function(t,e,a,n){void 0===n&&(n=a),t[n]=e[a]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)"default"!==a&&Object.prototype.hasOwnProperty.call(t,a)&&n(e,t,a);return s(e,t),e},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=a(4798),l=a(2665),d=i(a(5697)),u=r(a(8375));e.default=class{_getPenalty(t,e,a){const{time:n=0}=a,s=(0,l.truncateName)(e.name);return{snapOutOfHashes:{fullName:"Illegal Snap, Out Of Hashes",message:"Illegal Snap, Out Of Hashes, automatic loss of down",netYards:0,addDown:!0},snapOutOfBounds:{fullName:"Illegal Snap, Out of Bounds",message:"Illegal Snap, Out of Bounds, automatic loss of down",netYards:0,addDown:!0},offsidesOffense:{fullName:"Offsides Offense",message:`Offsides Offense ${s}, 10 yard penalty, repeat the down`,netYards:-10,addDown:!1},offsidesDefense:{fullName:"Offsides Defense",message:`Offsides Defense ${s}, 10 yard penalty, repeat the down`,netYards:10,addDown:!1},snapDrag:{fullName:"Quarterback Drag",message:"Quarterback Drag, automatic loss of down",netYards:0,addDown:!0},crowding:{fullName:"Crowding",message:`Crowding ${s}, 15 yard penalty, repeat the down`,netYards:15,addDown:!1},crowdAbuse:{fullName:"Crowd Abuse",message:`Crowd Abuse ${s}, 20 yard penalty, repeat the down`,netYards:20,addDown:!1},illegalPass:{fullName:"Illegal Pass In Front Of Line Of Scrimmage",message:"Illegal Pass In Front Of Line Of Scrimmage, automatic loss of down",netYards:0,addDown:!0},fgDrag:{fullName:"Field Goal Kick Drag",message:"Field Goal Kick Drag, automatic loss of down",netYards:0,addDown:!0},puntDrag:{fullName:"Punt Kick Drag",message:"Punt Kick Drag, 10 yard penalty, repeat the down",netYards:-10,addDown:!1},puntOffsidesOffense:{fullName:"Punt Offsides Offense",message:"Offsides Offense, 10 yard penalty, repeat the down",netYards:-10,addDown:!1},illegalTouch:{fullName:"Illegal Touching Of The Ball",message:`Illegal Touching Of The Ball by ${s}, automatic loss of down`,netYards:0,addDown:!0},illegalRun:{fullName:"Illegal Run",message:`Illegal Run by ${s}, automatic loss of down`,netYards:0,addDown:!0},illegalLosCross:{fullName:"Illegal Line Of Scrimmage Cross",message:`${s} illegally crossed the line of scrimmage, automatic loss of down`,netYards:0,addDown:!0},illegalBlitz:{fullName:"Illegal blitz",message:`Illegal blitz by ${s} at ${(0,l.plural)(Math.round(n),"second","seconds")}, 10 yard penalty, repeat the down`,netYards:10,addDown:!1},onsideKickDrag:{fullName:"Onside Kick Drag",message:"Onside Kick Drag, automatic receiving team 40 yard line",netYards:0,addDown:!1,hasOwnHandler:!0},kickOffDrag:{fullName:"Kickoff Drag",message:"Kickoff Drag, automatic receiving team 40 yard line",netYards:0,addDown:!1,hasOwnHandler:!0},kickOffDragSafety:{fullName:"Safety Punt Drag",message:"Punt Drag after a safety, automatic defense 40 yard line",netYards:0,addDown:!1,hasOwnHandler:!0},kickOffOutOfBounds:{fullName:"Kickoff kicked out of bounds",message:"Kickoff kicked out of bounds, automatic offense 40 yard line",netYards:0,addDown:!1,hasOwnHandler:!0},kickOffOffsides:{fullName:"Kickoff Offsides Offense",message:`Offsides Offense ${s}, automatic offense 40 yard line`,netYards:0,addDown:!1,hasOwnHandler:!0},kickOffOffsidesSafety:{fullName:"Safety Punt Offsides Offense",message:`Offsides Offense ${s} after a safety, automatic defense 40 yard line`,netYards:0,addDown:!1,hasOwnHandler:!0}}[t]}_maybeConstrainNewEndLosXToOneYardLine(t){const e=u.default.getEndZonePositionIsIn({x:t,y:0});if(null===e)return t;const a=u.default.getTeamEndzone(e);return(new d.default).addByTeam(a,1*o.MAP_POINTS.YARD,e).calculate()}getData(t,e,a,n,s,i){const{netYards:r,addDown:l,hasOwnHandler:c=!1,message:f,fullName:h}=this._getPenalty(t,e,i),m=a&&r>0,y=d.DistanceConverter.toYardLine(n),g=m?Math.floor(y/2):r,p=(new d.default).addByTeam(n,g*o.MAP_POINTS.YARD,s).calculate(),P=this._maybeConstrainNewEndLosXToOneYardLine(p),_=u.default.getTeamEndzone(s),v=(new d.default).addByTeam(_,1*o.MAP_POINTS.YARD,s).calculate();return{penaltyYards:g,isRedZonePenaltyOnDefense:m,newEndLosX:P,addDown:l||P===v,hasOwnHandler:c,penaltyMessage:f,fullName:h}}}},3217:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(5145)),i=a(7701),r=n(a(5693)),o=n(a(1858)),l=n(a(3517));e.default=class{constructor(){this.statsCollection=new l.default}maybeCreateStatProfile(t){if(this.statsCollection.has(t))return;const e=new s.default(t);this.statsCollection.set(t,e)}updatePlayerStat(t,e){var a;const n=o.default.game.players.getPlayerRecordById(t);if(!n)throw Error("Error finding player record");null===(a=this.statsCollection.get(n.recordId))||void 0===a||a.updateStats(e),i.SHOW_DEBUG_CHAT&&r.default.send(`STAT UPDATE: ${JSON.stringify(e)}`,{color:16772956})}getMVP(){const t={totalReceptions:1,totalReceivingYards:.1,rushingYards:1,touchdownsReceived:6,touchdownsRushed:6,totalPassAttempts:0,totalPassCompletions:1,totalPassYards:.04,touchdownsThrown:4,interceptionsThrown:-12,qbSacks:0,totalPassDeflections:5,tackles:3,totalYardsAllowed:-1,sacks:6,forcedFumbles:0,interceptionsReceived:12,penalties:-10},e=this.statsCollection.find().map((e=>{const a=Object.entries(Object.getOwnPropertyDescriptors(e)).reduce(((e,a)=>{var n;const[s,i]=a,r=null!==(n=i.value||i.get&&i.get())&&void 0!==n?n:0;if(s in t==0)return e;const o=t[s];return e[s]=r*o,e}),{});return{playerAuth:e.recordId,statsPoints:a}})).map((t=>{const e=Object.values(t.statsPoints).reduce(((t,e)=>t+e));return{recordId:t.playerAuth,pointTotal:e}})).reduce(((t,e)=>t.pointTotal>e.pointTotal?t:e),{recordId:0,pointTotal:0});return 0===e.pointTotal?null:{recordId:e.recordId,pointTotal:e.pointTotal}}}},4064:function(t,e,a){var n=this&&this.__createBinding||(Object.create?function(t,e,a,n){void 0===n&&(n=a);var s=Object.getOwnPropertyDescriptor(e,a);s&&!("get"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[a]}}),Object.defineProperty(t,n,s)}:function(t,e,a,n){void 0===n&&(n=a),t[n]=e[a]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)"default"!==a&&Object.prototype.hasOwnProperty.call(t,a)&&n(e,t,a);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});const r=a(4798),o=a(3279),l=i(a(5697));class d{static adjustPlayerPositionFront(t,e){return{x:(new l.default).addByTeam(t.x,r.MAP_POINTS.PLAYER_RADIUS,e).calculate(),y:t.y}}static adjustBallPositionOnOutOfBounds(t,e){return{x:(new l.default).addByTeam(t.x,r.MAP_POINTS.BALL_RADIUS,e).roundUpToYardIfBetweenTeamEndzoneAndOneYard(e).roundToYardByTeam(e).constrainToEndzonePoints().calculate(),y:t.y}}static getNetYardsAndAdjustedEndPosition(t,e,a){const n=this.adjustRawEndPosition(e,a),{distance:s,yardLine:i}=new l.default(n.x).calculateAndConvert(),{yards:r}=(new l.default).calcNetDifferenceByTeam(t.x,s,a).calculateAndConvert();return{netYards:r,yardLine:i,adjustedEndPositionX:s}}static adjustRawEndPosition(t,e){return{x:(new l.default).addByTeam(t.x,r.MAP_POINTS.PLAYER_RADIUS,e).roundUpToYardIfBetweenTeamEndzoneAndOneYard(e).roundToYardByTeam(e).constrainToEndzonePoints().calculate(),y:t.y}}static getPositionOfTeamYard(t,e){const a=l.DistanceConverter.yardToDistance(50-t);return e===o.TEAMS.BLUE?a:-a}}e.default=d,d.adjustMapCoordinatesForRadius=t=>{const{TOP_SIDELINE:e,BOT_SIDELINE:a,RED_SIDELINE:n,BLUE_SIDELINE:s,TOP_HASH:i,BOT_HASH:o,RED_FIELD_GOAL_LINE:l,BLUE_FIELD_GOAL_LINE:d,TOP_FG_POST:u,BOTTOM_FG_POST:c}=r.MAP_POINTS;return{topSideLine:e+t,botSideLine:a-t,redSideLine:n+t,blueSideLine:s-t,topHash:i+t,botHash:o-t,redFG:l+t,blueFG:d-t,topFG:u+t,botFG:c-t}}},1666:function(t,e,a){var n=this&&this.__createBinding||(Object.create?function(t,e,a,n){void 0===n&&(n=a);var s=Object.getOwnPropertyDescriptor(e,a);s&&!("get"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[a]}}),Object.defineProperty(t,n,s)}:function(t,e,a,n){void 0===n&&(n=a),t[n]=e[a]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)"default"!==a&&Object.prototype.hasOwnProperty.call(t,a)&&n(e,t,a);return s(e,t),e},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=r(a(5198)),l=a(2781),d=a(4798),u=a(3279),c=a(2665),f=i(a(5697)),h=r(a(8375));class m{constructor(t,e,a,n){this.playerId=t,this.playerTeam=e,this.timeGotInCrowdBox=a,this.wasAlone=n}}e.default=class{constructor(){this.CROWD_BOX_YARDS_FRONT=5,this.CROWD_BOX_YARDS_BEHIND=8,this.MAX_CROWDING_SECONDS=3,this.MAX_CROWD_ABUSE_SECONDS=2.25,this._playersInCrowdBoxList=[],this._crowdBoxDiscIndexes=[22,23,24,25]}checkPlayersInCrowdBox(t,e){const a=t.find((t=>{if(this._checkIfPlayerInCrowdBox(t.id)){const a=this._addToCrowdBoxIfNotAlready(t,e);if(this._checkIfMeetsCrowdingCriteria(a,e))return!0}else this._maybeRemoveFromCrowdBoxList(t.id);return!1}));if(a){const t=this._playersInCrowdBoxList.find((t=>t.playerId===a.id));return{isCrowding:!0,crowder:a,crowdingData:t}}return{isCrowding:!1,crowder:null,crowdingData:null}}setOffenseTeam(t){this._offenseTeamId=t}_determineCrowdBoxFrontYards(t){const e=f.DistanceConverter.toYardLine(t),a=e<=this.CROWD_BOX_YARDS_FRONT,n=h.default.getMapHalfFromPoint(t),s=n&&n!==this._offenseTeamId;return a&&s?e:this.CROWD_BOX_YARDS_FRONT}setCrowdBoxArea(t){const e=this._determineCrowdBoxFrontYards(t),a=(new f.default).addByTeam(t,d.MAP_POINTS.YARD*e,this._offenseTeamId).calculate(),n=(new f.default).subtractByTeam(t,d.MAP_POINTS.YARD*this.CROWD_BOX_YARDS_BEHIND,this._offenseTeamId).calculate();if(this._offenseTeamId===u.TEAMS.RED){const t={x1:n,y1:d.MAP_POINTS.TOP_HASH,x2:a,y2:d.MAP_POINTS.BOT_HASH};this._playCrowdBoxArea=t}else{const t={x1:a,y1:d.MAP_POINTS.TOP_HASH,x2:n,y2:d.MAP_POINTS.BOT_HASH};this._playCrowdBoxArea=t}}drawCrowdBoxLines(){o.default.setDiscProperties(this._crowdBoxDiscIndexes[0],{x:this._playCrowdBoxArea.x1,y:d.MAP_POINTS.TOP_HASH}),o.default.setDiscProperties(this._crowdBoxDiscIndexes[1],{x:this._playCrowdBoxArea.x1,y:d.MAP_POINTS.BOT_HASH}),o.default.setDiscProperties(this._crowdBoxDiscIndexes[2],{x:this._playCrowdBoxArea.x2,y:d.MAP_POINTS.BOT_HASH}),o.default.setDiscProperties(this._crowdBoxDiscIndexes[3],{x:this._playCrowdBoxArea.x2,y:d.MAP_POINTS.TOP_HASH})}eraseCrowdBoxLines(){o.default.setDiscProperties(this._crowdBoxDiscIndexes[0],{x:d.MAP_POINTS.HIDDEN,y:d.MAP_POINTS.TOP_HASH}),o.default.setDiscProperties(this._crowdBoxDiscIndexes[1],{x:d.MAP_POINTS.HIDDEN,y:d.MAP_POINTS.BOT_HASH}),o.default.setDiscProperties(this._crowdBoxDiscIndexes[2],{x:d.MAP_POINTS.HIDDEN,y:d.MAP_POINTS.TOP_HASH}),o.default.setDiscProperties(this._crowdBoxDiscIndexes[3],{x:d.MAP_POINTS.HIDDEN,y:d.MAP_POINTS.BOT_HASH})}_checkIfPlayerInCrowdBox(t){const{position:e}=(0,l.getPlayerDiscProperties)(t);return(0,c.isInRectangleArea)(this._playCrowdBoxArea,e)}_addToCrowdBoxIfNotAlready(t,e){const a=this._playersInCrowdBoxList.findIndex((e=>e.playerId===t.id));if(-1!==a)return a;const n=0===this._playersInCrowdBoxList.filter((t=>t.playerTeam===this._offenseTeamId)).length;return this._playersInCrowdBoxList.push(new m(t.id,t.team,e,n))-1}_checkIfMeetsCrowdingCriteria(t,e){if(this._playersInCrowdBoxList.some((t=>t.playerTeam===this._offenseTeamId)))return this._playersInCrowdBoxList.forEach((t=>{t.timeGotInCrowdBox=e})),!1;const a=this._playersInCrowdBoxList[t];return e-a.timeGotInCrowdBox>=(a.wasAlone?this.MAX_CROWD_ABUSE_SECONDS:this.MAX_CROWDING_SECONDS)&&a.playerTeam!==this._offenseTeamId}_maybeRemoveFromCrowdBoxList(t){const e=this._playersInCrowdBoxList.findIndex((e=>e.playerId===t));-1!==e&&this._playersInCrowdBoxList.splice(e,1)}}},3517:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});class a extends Map{_filter(t){return this.find().filter((e=>Object.entries(t).every((([t,a])=>{let n=e[t],s=a;return Array.isArray(n)?s.some((t=>n.includes(t))):(s="string"==typeof a?a.toLowerCase():a,n="string"==typeof n?n.toLowerCase():n,n==s)}))))}find(t=null){return null===t?Array.from(this.values()):this._filter(t)}findOne(t){const[e=null]=this._filter(t);return e}}e.default=a},4340:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const a={Exclamation:String.fromCodePoint(10071),BarChart:String.fromCodePoint(128202),Medal1:String.fromCodePoint(129351),Medal2:String.fromCodePoint(129352),Medal3:String.fromCodePoint(129353),SportsMedal:String.fromCodePoint(127941),Trophy:String.fromCodePoint(127942),Bell:String.fromCodePoint(128276),Clock:String.fromCodePoint(128276),DoNotEnter:String.fromCodePoint(9940),RedTriangle:String.fromCodePoint(128314),X:String.fromCodePoint(10060),Football:String.fromCodePoint(127944),Stop:String.fromCodePoint(128721),RedSquare:String.fromCodePoint(128997),YellowSquare:String.fromCodePoint(129e3),SmallBlackSquare:String.fromCodePoint(9642),MediumBlackSquare:String.fromCodePoint(9724),SmallWhiteSquare:String.fromCodePoint(9643),BlackSquare:String.fromCodePoint(11035),BlueSquare:String.fromCodePoint(128998),GreenSquare:String.fromCodePoint(129001),BrownSquare:String.fromCodePoint(129003),RedCircle:String.fromCodePoint(128308),OrangeCircle:String.fromCodePoint(128992),GreenCircle:String.fromCodePoint(128994),PurpleCircle:String.fromCodePoint(128995),BlueCircle:String.fromCodePoint(128309),BrownCircle:String.fromCodePoint(128996),WhiteCircle:String.fromCodePoint(9898),GreenCheck:String.fromCodePoint(9989),NoEntry:String.fromCodePoint(128683),On:String.fromCodePoint(128683),Construction:String.fromCodePoint(128679),Star:String.fromCodePoint(11088),Fire:String.fromCodePoint(128293),Lightning:String.fromCodePoint(9889),Lock:String.fromCodePoint(128274),Phone:String.fromCodePoint(128222),Police:String.fromCodePoint(128680),Bot:String.fromCodePoint(128680),Chess:String.fromCodePoint(9823),Crown:String.fromCodePoint(128081),Warning:String.fromCodePoint(9888),ThumbsUp:String.fromCodePoint(128077),HundredPts:String.fromCodePoint(128175),Collision:String.fromCodePoint(128165),Dizzy:String.fromCodePoint(128171),Running:String.fromCodePoint(127939),Target:String.fromCodePoint(127919),Anger:String.fromCodePoint(128162),Pushpin:String.fromCodePoint(128205),SpeakingHead:String.fromCodePoint(128483),Facepalm:String.fromCodePoint(129318),OK:String.fromCodePoint(128582),HandFingersSpread:String.fromCodePoint(128400),Clown:String.fromCodePoint(129313),Loudspeaker:String.fromCodePoint(128226),Mute:String.fromCodePoint(128263),OrangeTriangle:String.fromCodePoint(128312),LargeBlueDiamond:String.fromCodePoint(128311),LargeOrangeDiamond:String.fromCodePoint(128310),Frisbee:String.fromCodePoint(129359)};e.default=a},1234:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(5697)),i=a(4798),r=a(3279),o=a(2665);e.default=class{constructor(){this._mapSectionsList=[{name:"cornerTop",getRectangleArea:function(t,e){const{TOP_SIDELINE:a,ABOVE_HASH:n}=i.MAP_POINTS;return{x1:t,y1:a-1e3,x2:e,y2:n}}},{name:"cornerBottom",getRectangleArea:function(t,e){const{BOT_SIDELINE:a,BELOW_HASH:n}=i.MAP_POINTS;return{x1:t,y1:n,x2:e,y2:a+1e3}}},{name:"middle",getRectangleArea:function(t,e){const{ABOVE_HASH:a,BELOW_HASH:n}=i.MAP_POINTS;return{x1:t,y1:a,x2:e,y2:n}}},{name:"deep",getRectangleArea:function(t,e,a,n){const{YARD:o,BOT_SIDELINE:l,TOP_SIDELINE:d}=i.MAP_POINTS,u=(new s.default).addByTeam(a,100*o,n).calculate();return{x1:n===r.TEAMS.RED?t:u,y1:d-1e3,x2:n===r.TEAMS.RED?u:e,y2:l+1e3}}}]}getSectionName(t,e,a){var n;const{YARD:s}=i.MAP_POINTS,r=e-15*s,l=e+15*s,d=this._mapSectionsList.find((n=>{const s=n.getRectangleArea(r,l,e,a);return(0,o.isInRectangleArea)(s,t)}));return null!==(n=null==d?void 0:d.name)&&void 0!==n?n:"backwards"}}},7117:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default={HaxballRed:16733782,HaxballBlue:5671397,LightGreen:9498256,Lime:9754669,YellowOrange:16567811,Orange:16749099,Gray:11184810,Black:0,BlueViolet:9055202,LightBlue:7590622,LightSeaGree:2142890,Olive:8421376,HaxballChatGreen:9360043,Gold:16767858,LightRed:16405074,Yellow:16766011,Pink:16221100,White:16777215,DarkGreen:3195184,LightGreen2:11534215,LightRed2:16743265}},2781:function(t,e,a){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getTeamStringFromId=e.toClock=e.flattenPlayer=e.quickPause=e.getPlayerDiscProperties=void 0;const s=n(a(5198)),i=a(2665);e.getPlayerDiscProperties=t=>{var e;const{xspeed:a=null,yspeed:n=0,x:i=0,y:r=0}=null!==(e=s.default.getPlayerDiscProperties(t))&&void 0!==e?e:{};return null===a?null:{position:{x:i,y:r},speed:{x:a,y:n}}},e.quickPause=()=>{s.default.pauseGame(!0),s.default.pauseGame(!1)},e.flattenPlayer=({id:t,team:e,name:a})=>({id:t,team:e,name:a}),e.toClock=t=>{const e=Math.floor(t);return`${Math.floor(e/60)}:${(0,i.leftpad)(e%60)}`},e.getTeamStringFromId=t=>0===t?"Spectators":1===t?"Red":"Blue"},4798:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DISC_IDS=e.MAP_POINTS=void 0,e.MAP_POINTS={PLAYER_RADIUS:15,TE_PLAYER_RADIUS:17,BALL_RADIUS:6.7,KICKOFF:0,HIDDEN:1e4,HALF_FIELD:775,YARD:15.5,TOP_SIDELINE:-280,BOT_SIDELINE:280,RED_SIDELINE:-930,BLUE_SIDELINE:930,RED_GOAL_LINE:-775,BLUE_GOAL_LINE:775,RED_REDZONE:-465,BLUE_REDZONE:465,RED_SCORE_LINE:-1040,BLUE_SCORE_LINE:1040,RED_FIELD_GOAL_LINE:-930,BLUE_FIELD_GOAL_LINE:930,ABOVE_HASH:-110,BELOW_HASH:110,TOP_HASH:-95,BOT_HASH:95,TOP_FG_POST:-60,BOTTOM_FG_POST:60},e.DISC_IDS={BALL:0,LOS_TOP:1,LOS_BOT:2,LTG_TOP:3,LTG_BOT:4,TE:[17,18,19,20,21]},e.default='{\n\n\t"name" : "2022 HFL Official",\n\n\t"width" : 1090,\n\n\t"height" : 380,\n\n\t"cameraFollow" : "player",\n\n\t"spawnDistance" : 980,\n\n\t"bg" : { "type" : "grass", "width" : 930, "height" : 280, "kickOffRadius" : 0, "cornerRadius" : 0, "goalLine" : 0 },\n\n\t"vertexes" : [\n\t\t/* 0 */ { "x" : 0, "y" : 75, "trait" : "kickOffBarrier" },\n\t\t/* 1 */ { "x" : 0, "y" : -75, "trait" : "kickOffBarrier" },\n\t\t/* 2 */ { "x" : 0, "y" : -330, "trait" : "kickOffBarrier" },\n\t\t\n\t\t/* 3 */ { "x" : -775, "y" : -280, "trait" : "goalline" },\n\t\t/* 4 */ { "x" : -775, "y" : 280, "trait" : "goalline" },\n\t\t\n\t\t/* 5 */ { "x" : -620, "y" : -280, "trait" : "yardline" },\n\t\t/* 6 */ { "x" : -620, "y" : 280, "trait" : "yardline" },\n\t\t/* 7 */ { "x" : -310, "y" : -280, "trait" : "yardline" },\n\t\t/* 8 */ { "x" : -310, "y" : 280, "trait" : "yardline" },\n\t\t/* 9 */ { "x" : -155, "y" : -280, "trait" : "yardline" },\n\t\t/* 10 */ { "x" : -155, "y" : 280, "trait" : "yardline" },\n\t\t\n\t\t/* 11 */ { "x" : 0, "y" : -280, "trait" : "centerline" },\n\t\t/* 12 */ { "x" : 0, "y" : 280, "trait" : "centerline" },\n\t\t\n\t\t/* 13 */ { "x" : 155, "y" : -280, "trait" : "yardline" },\n\t\t/* 14 */ { "x" : 155, "y" : 280, "trait" : "yardline" },\n\t\t/* 15 */ { "x" : 310, "y" : -280, "trait" : "yardline" },\n\t\t/* 16 */ { "x" : 310, "y" : 280, "trait" : "yardline" },\n\t\t/* 17 */ { "x" : 465, "y" : -280, "trait" : "yardline" },\n\t\t/* 18 */ { "x" : 465, "y" : 280, "trait" : "yardline" },\n\t\t/* 19 */ { "x" : 620, "y" : -280, "trait" : "yardline" },\n\t\t/* 20 */ { "x" : 620, "y" : 280, "trait" : "yardline" },\n\t\t\n\t\t/* 21 */ { "x" : 775, "y" : -280, "trait" : "goalline" },\n\t\t/* 22 */ { "x" : 775, "y" : 280, "trait" : "goalline" },\n\t\t\n\t\t/* 23 */ { "x" : -1005, "y" : 25, "trait" : "goal" },\n\t\t/* 24 */ { "x" : -1005, "y" : -25, "trait" : "goal" },\n\t\t/* 25 */ { "x" : 1005, "y" : 25, "trait" : "goal" },\n\t\t/* 26 */ { "x" : 1005, "y" : -25, "trait" : "goal" },\n\t\t\n\t\t/* 27 */ { "x" : -775, "y" : -375, "trait" : "goalline" },\n\t\t/* 28 */ { "x" : -775, "y" : 375, "trait" : "goalline" },\n\t\t/* 29 */ { "x" : 775, "y" : -375, "trait" : "goalline", "curve" : 0 },\n\t\t/* 30 */ { "x" : 775, "y" : 375, "trait" : "goalline", "curve" : 0 },\n\t\t\n\t\t/* 31 */ { "x" : -713, "y" : -75, "trait" : "yardline" },\n\t\t/* 32 */ { "x" : -713, "y" : -95, "trait" : "yardline" },\n\t\t/* 33 */ { "x" : -744, "y" : -75, "trait" : "yardline" },\n\t\t/* 34 */ { "x" : -744, "y" : -95, "trait" : "yardline" },\n\t\t/* 35 */ { "x" : -744, "y" : 95, "trait" : "yardline" },\n\t\t/* 36 */ { "x" : -744, "y" : 75, "trait" : "yardline" },\n\t\t/* 37 */ { "x" : -713, "y" : 95, "trait" : "yardline" },\n\t\t/* 38 */ { "x" : -713, "y" : 75, "trait" : "yardline" },\n\t\t/* 39 */ { "x" : 713, "y" : 95, "trait" : "yardline" },\n\t\t/* 40 */ { "x" : 713, "y" : 75, "trait" : "yardline" },\n\t\t/* 41 */ { "x" : 62, "y" : 95, "trait" : "yardline" },\n\t\t/* 42 */ { "x" : 62, "y" : 75, "trait" : "yardline" },\n\t\t/* 43 */ { "x" : 31, "y" : 95, "trait" : "yardline" },\n\t\t/* 44 */ { "x" : 31, "y" : 75, "trait" : "yardline" },\n\t\t/* 45 */ { "x" : -93, "y" : 95, "trait" : "yardline" },\n\t\t/* 46 */ { "x" : -93, "y" : 75, "trait" : "yardline" },\n\t\t/* 47 */ { "x" : -124, "y" : 95, "trait" : "yardline" },\n\t\t/* 48 */ { "x" : -124, "y" : 75, "trait" : "yardline" },\n\t\t/* 49 */ { "x" : -248, "y" : 95, "trait" : "yardline" },\n\t\t/* 50 */ { "x" : -248, "y" : 75, "trait" : "yardline" },\n\t\t/* 51 */ { "x" : -279, "y" : 95, "trait" : "yardline" },\n\t\t/* 52 */ { "x" : -279, "y" : 75, "trait" : "yardline" },\n\t\t/* 53 */ { "x" : -403, "y" : 95, "trait" : "yardline" },\n\t\t/* 54 */ { "x" : -403, "y" : 75, "trait" : "yardline" },\n\t\t/* 55 */ { "x" : -434, "y" : 95, "trait" : "yardline" },\n\t\t/* 56 */ { "x" : -434, "y" : 75, "trait" : "yardline" },\n\t\t/* 57 */ { "x" : -558, "y" : 95, "trait" : "yardline" },\n\t\t/* 58 */ { "x" : -558, "y" : 75, "trait" : "yardline" },\n\t\t/* 59 */ { "x" : -589, "y" : 95, "trait" : "yardline" },\n\t\t/* 60 */ { "x" : -589, "y" : 75, "trait" : "yardline" },\n\t\t/* 61 */ { "x" : 186, "y" : -75, "trait" : "yardline" },\n\t\t/* 62 */ { "x" : 186, "y" : -95, "trait" : "yardline" },\n\t\t/* 63 */ { "x" : 62, "y" : -75, "trait" : "yardline" },\n\t\t/* 64 */ { "x" : 62, "y" : -95, "trait" : "yardline" },\n\t\t/* 65 */ { "x" : 31, "y" : -75, "trait" : "yardline" },\n\t\t/* 66 */ { "x" : 31, "y" : -95, "trait" : "yardline" },\n\t\t/* 67 */ { "x" : -93, "y" : -75, "trait" : "yardline" },\n\t\t/* 68 */ { "x" : -93, "y" : -95, "trait" : "yardline" },\n\t\t/* 69 */ { "x" : -124, "y" : -75, "trait" : "yardline" },\n\t\t/* 70 */ { "x" : -124, "y" : -95, "trait" : "yardline" },\n\t\t/* 71 */ { "x" : -248, "y" : -75, "trait" : "yardline" },\n\t\t/* 72 */ { "x" : -248, "y" : -95, "trait" : "yardline" },\n\t\t/* 73 */ { "x" : -279, "y" : -75, "trait" : "yardline" },\n\t\t/* 74 */ { "x" : -279, "y" : -95, "trait" : "yardline" },\n\t\t/* 75 */ { "x" : -403, "y" : -75, "trait" : "yardline" },\n\t\t/* 76 */ { "x" : -403, "y" : -95, "trait" : "yardline" },\n\t\t/* 77 */ { "x" : -434, "y" : -75, "trait" : "yardline" },\n\t\t/* 78 */ { "x" : -434, "y" : -95, "trait" : "yardline" },\n\t\t/* 79 */ { "x" : -558, "y" : -75, "trait" : "yardline" },\n\t\t/* 80 */ { "x" : -558, "y" : -95, "trait" : "yardline" },\n\t\t/* 81 */ { "x" : -589, "y" : -75, "trait" : "yardline" },\n\t\t/* 82 */ { "x" : -589, "y" : -95, "trait" : "yardline" },\n\t\t/* 83 */ { "x" : 186, "y" : 95, "trait" : "yardline" },\n\t\t/* 84 */ { "x" : 186, "y" : 75, "trait" : "yardline" },\n\t\t/* 85 */ { "x" : 651, "y" : -75, "trait" : "yardline" },\n\t\t/* 86 */ { "x" : 651, "y" : -95, "trait" : "yardline" },\n\t\t/* 87 */ { "x" : 651, "y" : 95, "trait" : "yardline" },\n\t\t/* 88 */ { "x" : 651, "y" : 75, "trait" : "yardline" },\n\t\t/* 89 */ { "x" : 682, "y" : 95, "trait" : "yardline" },\n\t\t/* 90 */ { "x" : 682, "y" : 75, "trait" : "yardline" },\n\t\t/* 91 */ { "x" : 682, "y" : -75, "trait" : "yardline" },\n\t\t/* 92 */ { "x" : 682, "y" : -95, "trait" : "yardline" },\n\t\t/* 93 */ { "x" : 527, "y" : -75, "trait" : "yardline" },\n\t\t/* 94 */ { "x" : 527, "y" : -95, "trait" : "yardline" },\n\t\t/* 95 */ { "x" : 527, "y" : 95, "trait" : "yardline" },\n\t\t/* 96 */ { "x" : 527, "y" : 75, "trait" : "yardline" },\n\t\t/* 97 */ { "x" : 496, "y" : 95, "trait" : "yardline" },\n\t\t/* 98 */ { "x" : 496, "y" : 75, "trait" : "yardline" },\n\t\t/* 99 */ { "x" : 496, "y" : -75, "trait" : "yardline" },\n\t\t/* 100 */ { "x" : 496, "y" : -95, "trait" : "yardline" },\n\t\t/* 101 */ { "x" : 372, "y" : -75, "trait" : "yardline" },\n\t\t/* 102 */ { "x" : 372, "y" : -95, "trait" : "yardline" },\n\t\t/* 103 */ { "x" : 403, "y" : 95, "trait" : "yardline" },\n\t\t/* 104 */ { "x" : 403, "y" : 75, "trait" : "yardline" },\n\t\t/* 105 */ { "x" : 372, "y" : 95, "trait" : "yardline" },\n\t\t/* 106 */ { "x" : 372, "y" : 75, "trait" : "yardline" },\n\t\t/* 107 */ { "x" : 341, "y" : -75, "trait" : "yardline" },\n\t\t/* 108 */ { "x" : 341, "y" : -95, "trait" : "yardline" },\n\t\t/* 109 */ { "x" : 217, "y" : -75, "trait" : "yardline" },\n\t\t/* 110 */ { "x" : 217, "y" : -95, "trait" : "yardline" },\n\t\t/* 111 */ { "x" : 217, "y" : 95, "trait" : "yardline" },\n\t\t/* 112 */ { "x" : 217, "y" : 75, "trait" : "yardline" },\n\t\t\n\t\t/* 113 */ { "x" : 1005, "y" : 25, "trait" : "goal" },\n\t\t/* 114 */ { "x" : 1005, "y" : -25, "trait" : "goal" },\n\t\t\n\t\t/* 115 */ { "x" : -682, "y" : -75, "trait" : "yardline" },\n\t\t/* 116 */ { "x" : -682, "y" : -95, "trait" : "yardline" },\n\t\t/* 117 */ { "x" : -682, "y" : 95, "trait" : "yardline" },\n\t\t/* 118 */ { "x" : -682, "y" : 75, "trait" : "yardline" },\n\t\t/* 119 */ { "x" : -651, "y" : 95, "trait" : "yardline" },\n\t\t/* 120 */ { "x" : -651, "y" : 75, "trait" : "yardline" },\n\t\t/* 121 */ { "x" : -651, "y" : -75, "trait" : "yardline" },\n\t\t/* 122 */ { "x" : -651, "y" : -95, "trait" : "yardline", "_selected" : true },\n\t\t/* 123 */ { "x" : -527, "y" : 95, "trait" : "yardline" },\n\t\t/* 124 */ { "x" : -527, "y" : 75, "trait" : "yardline" },\n\t\t/* 125 */ { "x" : -527, "y" : -75, "trait" : "yardline" },\n\t\t/* 126 */ { "x" : -527, "y" : -95, "trait" : "yardline" },\n\t\t/* 127 */ { "x" : -496, "y" : -75, "trait" : "yardline" },\n\t\t/* 128 */ { "x" : -496, "y" : -95, "trait" : "yardline" },\n\t\t/* 129 */ { "x" : -496, "y" : 95, "trait" : "yardline" },\n\t\t/* 130 */ { "x" : -496, "y" : 75, "trait" : "yardline" },\n\t\t/* 131 */ { "x" : -372, "y" : -75, "trait" : "yardline" },\n\t\t/* 132 */ { "x" : -372, "y" : -95, "trait" : "yardline" },\n\t\t/* 133 */ { "x" : -372, "y" : 95, "trait" : "yardline" },\n\t\t/* 134 */ { "x" : -372, "y" : 75, "trait" : "yardline" },\n\t\t/* 135 */ { "x" : -341, "y" : 95, "trait" : "yardline" },\n\t\t/* 136 */ { "x" : -341, "y" : 75, "trait" : "yardline" },\n\t\t/* 137 */ { "x" : -341, "y" : -75, "trait" : "yardline" },\n\t\t/* 138 */ { "x" : -341, "y" : -95, "trait" : "yardline" },\n\t\t/* 139 */ { "x" : -217, "y" : 95, "trait" : "yardline" },\n\t\t/* 140 */ { "x" : -217, "y" : 75, "trait" : "yardline" },\n\t\t/* 141 */ { "x" : -186, "y" : 95, "trait" : "yardline" },\n\t\t/* 142 */ { "x" : -186, "y" : 75, "trait" : "yardline" },\n\t\t/* 143 */ { "x" : -217, "y" : -75, "trait" : "yardline" },\n\t\t/* 144 */ { "x" : -217, "y" : -95, "trait" : "yardline" },\n\t\t/* 145 */ { "x" : -186, "y" : -75, "trait" : "yardline" },\n\t\t/* 146 */ { "x" : -186, "y" : -95, "trait" : "yardline" },\n\t\t/* 147 */ { "x" : -62, "y" : 95, "trait" : "yardline" },\n\t\t/* 148 */ { "x" : -62, "y" : 75, "trait" : "yardline" },\n\t\t/* 149 */ { "x" : -31, "y" : 95, "trait" : "yardline" },\n\t\t/* 150 */ { "x" : -31, "y" : 75, "trait" : "yardline" },\n\t\t/* 151 */ { "x" : -62, "y" : -75, "trait" : "yardline" },\n\t\t/* 152 */ { "x" : -62, "y" : -95, "trait" : "yardline" },\n\t\t/* 153 */ { "x" : -31, "y" : -75, "trait" : "yardline" },\n\t\t/* 154 */ { "x" : -31, "y" : -95, "trait" : "yardline" },\n\t\t/* 155 */ { "x" : 93, "y" : -75, "trait" : "yardline" },\n\t\t/* 156 */ { "x" : 93, "y" : -95, "trait" : "yardline" },\n\t\t/* 157 */ { "x" : 93, "y" : 95, "trait" : "yardline" },\n\t\t/* 158 */ { "x" : 93, "y" : 75, "trait" : "yardline" },\n\t\t/* 159 */ { "x" : 124, "y" : 95, "trait" : "yardline" },\n\t\t/* 160 */ { "x" : 124, "y" : 75, "trait" : "yardline" },\n\t\t/* 161 */ { "x" : 124, "y" : -75, "trait" : "yardline" },\n\t\t/* 162 */ { "x" : 124, "y" : -95, "trait" : "yardline" },\n\t\t/* 163 */ { "x" : 248, "y" : 95, "trait" : "yardline" },\n\t\t/* 164 */ { "x" : 248, "y" : 75, "trait" : "yardline" },\n\t\t/* 165 */ { "x" : 248, "y" : -75, "trait" : "yardline" },\n\t\t/* 166 */ { "x" : 248, "y" : -95, "trait" : "yardline" },\n\t\t/* 167 */ { "x" : 279, "y" : -75, "trait" : "yardline" },\n\t\t/* 168 */ { "x" : 279, "y" : -95, "trait" : "yardline" },\n\t\t/* 169 */ { "x" : 279, "y" : 95, "trait" : "yardline" },\n\t\t/* 170 */ { "x" : 279, "y" : 75, "trait" : "yardline" },\n\t\t/* 171 */ { "x" : 341, "y" : 95, "trait" : "yardline" },\n\t\t/* 172 */ { "x" : 341, "y" : 75, "trait" : "yardline" },\n\t\t/* 173 */ { "x" : 403, "y" : -75, "trait" : "yardline" },\n\t\t/* 174 */ { "x" : 403, "y" : -95, "trait" : "yardline" },\n\t\t/* 175 */ { "x" : 434, "y" : -75, "trait" : "yardline" },\n\t\t/* 176 */ { "x" : 434, "y" : -95, "trait" : "yardline" },\n\t\t/* 177 */ { "x" : 434, "y" : 95, "trait" : "yardline" },\n\t\t/* 178 */ { "x" : 434, "y" : 75, "trait" : "yardline" },\n\t\t/* 179 */ { "x" : 558, "y" : 95, "trait" : "yardline" },\n\t\t/* 180 */ { "x" : 558, "y" : 75, "trait" : "yardline" },\n\t\t/* 181 */ { "x" : 558, "y" : -75, "trait" : "yardline" },\n\t\t/* 182 */ { "x" : 558, "y" : -95, "trait" : "yardline" },\n\t\t/* 183 */ { "x" : 589, "y" : -75, "trait" : "yardline" },\n\t\t/* 184 */ { "x" : 589, "y" : -95, "trait" : "yardline" },\n\t\t/* 185 */ { "x" : 589, "y" : 95, "trait" : "yardline" },\n\t\t/* 186 */ { "x" : 589, "y" : 75, "trait" : "yardline" },\n\t\t/* 187 */ { "x" : 713, "y" : -75, "trait" : "yardline" },\n\t\t/* 188 */ { "x" : 713, "y" : -95, "trait" : "yardline" },\n\t\t/* 189 */ { "x" : 744, "y" : -75, "trait" : "yardline" },\n\t\t/* 190 */ { "x" : 744, "y" : -95, "trait" : "yardline" },\n\t\t/* 191 */ { "x" : 744, "y" : 95, "trait" : "yardline" },\n\t\t/* 192 */ { "x" : 744, "y" : 75, "trait" : "yardline" },\n\t\t/* 193 */ { "x" : -465, "y" : -280, "trait" : "yardline", "color" : "c7e6bd" },\n\t\t/* 194 */ { "x" : -465, "y" : 280, "trait" : "yardline", "color" : "c7e6bd" },\n\t\t/* 195 */ { "x" : 465, "y" : 280, "trait" : "yardline", "color" : "c7e6bd" },\n\t\t/* 196 */ { "x" : -697.5, "y" : 280, "trait" : "yardline" },\n\t\t/* 197 */ { "x" : -697.5, "y" : 246, "trait" : "yardline" },\n\t\t/* 198 */ { "x" : -542.5, "y" : 280, "trait" : "yardline" },\n\t\t/* 199 */ { "x" : -542.5, "y" : 246, "trait" : "yardline" },\n\t\t/* 200 */ { "x" : -387.5, "y" : 280, "trait" : "yardline" },\n\t\t/* 201 */ { "x" : -387.5, "y" : 246, "trait" : "yardline" },\n\t\t/* 202 */ { "x" : -232.5, "y" : 280, "trait" : "yardline" },\n\t\t/* 203 */ { "x" : -232.5, "y" : 246, "trait" : "yardline" },\n\t\t/* 204 */ { "x" : -77.5, "y" : 280, "trait" : "yardline" },\n\t\t/* 205 */ { "x" : -77.5, "y" : 246, "trait" : "yardline" },\n\t\t/* 206 */ { "x" : 77.5, "y" : 280, "trait" : "yardline" },\n\t\t/* 207 */ { "x" : 77.5, "y" : 246, "trait" : "yardline" },\n\t\t/* 208 */ { "x" : 232.5, "y" : 280, "trait" : "yardline" },\n\t\t/* 209 */ { "x" : 232.5, "y" : 246, "trait" : "yardline" },\n\t\t/* 210 */ { "x" : 387.5, "y" : 280, "trait" : "yardline" },\n\t\t/* 211 */ { "x" : 387.5, "y" : 246, "trait" : "yardline" },\n\t\t/* 212 */ { "x" : 387.5, "y" : -246, "trait" : "yardline" },\n\t\t/* 213 */ { "x" : 387.5, "y" : -280, "trait" : "yardline" },\n\t\t/* 214 */ { "x" : 232.5, "y" : -246, "trait" : "yardline" },\n\t\t/* 215 */ { "x" : 232.5, "y" : -280, "trait" : "yardline" },\n\t\t/* 216 */ { "x" : 77.5, "y" : -246, "trait" : "yardline" },\n\t\t/* 217 */ { "x" : 77.5, "y" : -280, "trait" : "yardline" },\n\t\t/* 218 */ { "x" : 542.5, "y" : -246, "trait" : "yardline" },\n\t\t/* 219 */ { "x" : 542.5, "y" : -280, "trait" : "yardline" },\n\t\t/* 220 */ { "x" : 697.5, "y" : -246, "trait" : "yardline" },\n\t\t/* 221 */ { "x" : 697.5, "y" : -280, "trait" : "yardline" },\n\t\t/* 222 */ { "x" : -77.5, "y" : -246, "trait" : "yardline" },\n\t\t/* 223 */ { "x" : -77.5, "y" : -280, "trait" : "yardline" },\n\t\t/* 224 */ { "x" : -232.5, "y" : -246, "trait" : "yardline" },\n\t\t/* 225 */ { "x" : -232.5, "y" : -280, "trait" : "yardline" },\n\t\t/* 226 */ { "x" : -387.5, "y" : -246, "trait" : "yardline" },\n\t\t/* 227 */ { "x" : -387.5, "y" : -280, "trait" : "yardline" },\n\t\t/* 228 */ { "x" : -542.5, "y" : -246, "trait" : "yardline" },\n\t\t/* 229 */ { "x" : -542.5, "y" : -280, "trait" : "yardline" },\n\t\t/* 230 */ { "x" : -697.5, "y" : -246, "trait" : "yardline" },\n\t\t/* 231 */ { "x" : -697.5, "y" : -280, "trait" : "yardline" },\n\t\t/* 232 */ { "x" : 540.5, "y" : 264, "trait" : "yardline" },\n\t\t/* 233 */ { "x" : 540.5, "y" : 244, "trait" : "yardline" },\n\t\t/* 234 */ { "x" : 697.5, "y" : 280, "trait" : "yardline" },\n\t\t/* 235 */ { "x" : 697.5, "y" : 246, "trait" : "yardline" }\n\n\t],\n\n\t"segments" : [\n\t\t{ "v0" : 1, "v1" : 2, "trait" : "kickOffBarrier" },\n\t\t\n\t\t{ "v0" : 3, "v1" : 4, "trait" : "goalline", "x" : -775 },\n\t\t\n\t\t{ "v0" : 5, "v1" : 6, "trait" : "yardline", "x" : -620 },\n\t\t{ "v0" : 7, "v1" : 8, "trait" : "yardline", "x" : -310 },\n\t\t{ "v0" : 9, "v1" : 10, "trait" : "yardline", "x" : -155 },\n\t\t\n\t\t{ "v0" : 11, "v1" : 12, "trait" : "centerline" },\n\t\t\n\t\t{ "v0" : 13, "v1" : 14, "trait" : "yardline", "x" : 155 },\n\t\t{ "v0" : 15, "v1" : 16, "trait" : "yardline", "x" : 310 },\n\t\t{ "v0" : 17, "v1" : 18, "trait" : "yardline", "x" : 465 },\n\t\t{ "v0" : 19, "v1" : 20, "trait" : "yardline", "x" : 620 },\n\t\t\n\t\t{ "v0" : 21, "v1" : 22, "trait" : "goalline", "x" : 775 },\n\t\t\n\t\t{ "v0" : 23, "v1" : 24, "color" : "FF0000", "trait" : "goal", "x" : -1005 },\n\t\t{ "v0" : 25, "v1" : 26, "color" : "0000FF", "trait" : "goal", "x" : 1005 },\n\t\t\n\t\t{ "v0" : 27, "v1" : 28, "cGroup" : ["blueKO" ], "trait" : "kickOffBarrier", "x" : -775 },\n\t\t{ "v0" : 29, "v1" : 30, "curve" : 0, "cGroup" : ["redKO" ], "trait" : "kickOffBarrier", "x" : 775 },\n\t\t\n\t\t{ "v0" : 31, "v1" : 32, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -713 },\n\t\t{ "v0" : 33, "v1" : 34, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -744 },\n\t\t{ "v0" : 35, "v1" : 36, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -744 },\n\t\t{ "v0" : 37, "v1" : 38, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -713 },\n\t\t{ "v0" : 39, "v1" : 40, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 713 },\n\t\t{ "v0" : 41, "v1" : 42, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 62 },\n\t\t{ "v0" : 43, "v1" : 44, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 31 },\n\t\t{ "v0" : 45, "v1" : 46, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -93 },\n\t\t{ "v0" : 47, "v1" : 48, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -124 },\n\t\t{ "v0" : 49, "v1" : 50, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -248 },\n\t\t{ "v0" : 51, "v1" : 52, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -279 },\n\t\t{ "v0" : 53, "v1" : 54, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -403 },\n\t\t{ "v0" : 55, "v1" : 56, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -434 },\n\t\t{ "v0" : 57, "v1" : 58, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -558 },\n\t\t{ "v0" : 59, "v1" : 60, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -589 },\n\t\t{ "v0" : 61, "v1" : 62, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 186 },\n\t\t{ "v0" : 63, "v1" : 64, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 62 },\n\t\t{ "v0" : 65, "v1" : 66, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 31 },\n\t\t{ "v0" : 67, "v1" : 68, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -93 },\n\t\t{ "v0" : 69, "v1" : 70, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -124 },\n\t\t{ "v0" : 71, "v1" : 72, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -248 },\n\t\t{ "v0" : 73, "v1" : 74, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -279 },\n\t\t{ "v0" : 75, "v1" : 76, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -403 },\n\t\t{ "v0" : 77, "v1" : 78, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -434 },\n\t\t{ "v0" : 79, "v1" : 80, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -558 },\n\t\t{ "v0" : 81, "v1" : 82, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -589 },\n\t\t{ "v0" : 83, "v1" : 84, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 186 },\n\t\t{ "v0" : 85, "v1" : 86, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 651 },\n\t\t{ "v0" : 87, "v1" : 88, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 651 },\n\t\t{ "v0" : 89, "v1" : 90, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 682 },\n\t\t{ "v0" : 91, "v1" : 92, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 682 },\n\t\t{ "v0" : 93, "v1" : 94, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 527 },\n\t\t{ "v0" : 95, "v1" : 96, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 527 },\n\t\t{ "v0" : 97, "v1" : 98, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 496 },\n\t\t{ "v0" : 99, "v1" : 100, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 496 },\n\t\t{ "v0" : 101, "v1" : 102, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 372 },\n\t\t{ "v0" : 103, "v1" : 104, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 403 },\n\t\t{ "v0" : 105, "v1" : 106, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 372 },\n\t\t{ "v0" : 107, "v1" : 108, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 341 },\n\t\t{ "v0" : 109, "v1" : 110, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 217 },\n\t\t{ "v0" : 111, "v1" : 112, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 217 },\n\t\t{ "v0" : 115, "v1" : 116, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -682 },\n\t\t{ "v0" : 117, "v1" : 118, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -682 },\n\t\t{ "v0" : 119, "v1" : 120, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -651 },\n\t\t{ "v0" : 121, "v1" : 122, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -651 },\n\t\t{ "v0" : 123, "v1" : 124, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -527 },\n\t\t{ "v0" : 125, "v1" : 126, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -527 },\n\t\t{ "v0" : 127, "v1" : 128, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -496 },\n\t\t{ "v0" : 129, "v1" : 130, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -496 },\n\t\t{ "v0" : 131, "v1" : 132, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -372 },\n\t\t{ "v0" : 133, "v1" : 134, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -372 },\n\t\t{ "v0" : 135, "v1" : 136, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -341 },\n\t\t{ "v0" : 137, "v1" : 138, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -341 },\n\t\t{ "v0" : 139, "v1" : 140, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -217 },\n\t\t{ "v0" : 141, "v1" : 142, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -186 },\n\t\t{ "v0" : 143, "v1" : 144, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -217 },\n\t\t{ "v0" : 145, "v1" : 146, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -186 },\n\t\t{ "v0" : 147, "v1" : 148, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -62 },\n\t\t{ "v0" : 149, "v1" : 150, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -31 },\n\t\t{ "v0" : 151, "v1" : 152, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -62 },\n\t\t{ "v0" : 153, "v1" : 154, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -31 },\n\t\t{ "v0" : 155, "v1" : 156, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 93 },\n\t\t{ "v0" : 157, "v1" : 158, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 93 },\n\t\t{ "v0" : 159, "v1" : 160, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 124 },\n\t\t{ "v0" : 161, "v1" : 162, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 124 },\n\t\t{ "v0" : 163, "v1" : 164, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 248 },\n\t\t{ "v0" : 165, "v1" : 166, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 248 },\n\t\t{ "v0" : 167, "v1" : 168, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 279 },\n\t\t{ "v0" : 169, "v1" : 170, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 279 },\n\t\t{ "v0" : 171, "v1" : 172, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 341 },\n\t\t{ "v0" : 173, "v1" : 174, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 403 },\n\t\t{ "v0" : 175, "v1" : 176, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 434 },\n\t\t{ "v0" : 177, "v1" : 178, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 434 },\n\t\t{ "v0" : 179, "v1" : 180, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 558 },\n\t\t{ "v0" : 181, "v1" : 182, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 558 },\n\t\t{ "v0" : 183, "v1" : 184, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 589 },\n\t\t{ "v0" : 185, "v1" : 186, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 589 },\n\t\t{ "v0" : 187, "v1" : 188, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 713 },\n\t\t{ "v0" : 189, "v1" : 190, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 744 },\n\t\t{ "v0" : 191, "v1" : 192, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 744 },\n\t\t{ "v0" : 193, "v1" : 194, "color" : "c7e6bd", "trait" : "yardline", "x" : -465 },\n\t\t{ "v0" : 196, "v1" : 197, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -744 },\n\t\t{ "v0" : 198, "v1" : 199, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -542.5 },\n\t\t{ "v0" : 200, "v1" : 201, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -387.5 },\n\t\t{ "v0" : 202, "v1" : 203, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -232.5 },\n\t\t{ "v0" : 204, "v1" : 205, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -77.5 },\n\t\t{ "v0" : 206, "v1" : 207, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 77.5 },\n\t\t{ "v0" : 208, "v1" : 209, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 232.5 },\n\t\t{ "v0" : 210, "v1" : 211, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 387.5 },\n\t\t{ "v0" : 212, "v1" : 213, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 387.5 },\n\t\t{ "v0" : 214, "v1" : 215, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 232.5 },\n\t\t{ "v0" : 216, "v1" : 217, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 77.5 },\n\t\t{ "v0" : 218, "v1" : 219, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 542.5 },\n\t\t{ "v0" : 220, "v1" : 221, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 697.5 },\n\t\t{ "v0" : 222, "v1" : 223, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -77.5 },\n\t\t{ "v0" : 224, "v1" : 225, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -232.5 },\n\t\t{ "v0" : 226, "v1" : 227, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -387.5 },\n\t\t{ "v0" : 228, "v1" : 229, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -542.5 },\n\t\t{ "v0" : 230, "v1" : 231, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : -697.5 },\n\t\t{ "v0" : 232, "v1" : 233, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 542.5 },\n\t\t{ "v0" : 234, "v1" : 235, "vis" : true, "color" : "c7e6bd", "trait" : "yardline", "x" : 697.5 }\n\n\t],\n\n\t"goals" : [\n\t\t{ "p0" : [-1065,0 ], "p1" : [-1005,0 ], "team" : "blue" },\n\t\t{ "p0" : [1006.9833374023,1.6000061035156 ], "p1" : [1063.9833374023,1.6000061035156 ], "team" : "red" }\n\n\t],\n\n\t"discs" : [\n\t\t{ "pos" : [0,280 ], "trait" : "losmarker" },\n\t\t{ "pos" : [0,-280 ], "trait" : "losmarker" },\n\t\t\n\t\t{ "pos" : [10000,280 ], "trait" : "yardtogetmarker" },\n\t\t{ "pos" : [10000,-280 ], "trait" : "yardtogetmarker" },\n\t\t\n\t\t{ "pos" : [930,-60 ], "trait" : "goalPost" },\n\t\t{ "pos" : [-930,-60 ], "trait" : "goalPost" },\n\t\t{ "pos" : [-930,60 ], "trait" : "goalPost" },\n\t\t{ "pos" : [930,60 ], "trait" : "goalPost" },\n\t\t\n\t\t{ "pos" : [930,280 ], "trait" : "goalmarker" },\n\t\t{ "pos" : [775,-280 ], "trait" : "goalmarker" },\n\t\t{ "pos" : [-930,280 ], "trait" : "goalmarker" },\n\t\t{ "pos" : [-930,-280 ], "trait" : "goalmarker" },\n\t\t{ "pos" : [775,280 ], "trait" : "goalmarker" },\n\t\t{ "pos" : [930,-280 ], "trait" : "goalmarker" },\n\t\t{ "pos" : [-775,280 ], "trait" : "goalmarker" },\n\t\t{ "pos" : [-775,-280 ], "trait" : "goalmarker" },\n\n\t\t{ "pos" : [10000,0 ], "trait" : "teweight1" },\n\t\t{ "pos" : [10000,13 ], "trait" : "teweight" },\n\t\t{ "pos" : [9987,0 ], "trait" : "teweight" },\n\t\t{ "pos" : [10000,-13 ], "trait" : "teweight" },\n\t\t{ "pos" : [10013,0 ], "trait" : "teweight" },\n\t\t{ "pos" : [9960,280 ], "trait" : "crowdboxmarker" },\n\t\t{ "pos" : [9960,-280 ], "trait" : "crowdboxmarker" },\n\t\t{ "pos" : [9950,280 ], "trait" : "crowdboxmarker" },\n\t\t{ "pos" : [9950,-280 ], "trait" : "crowdboxmarker" }\n\n\t],\n\n\t"joints" : [\n\t\t{ "d0" : 1, "d1" : 2, "trait" : "losline" },\n\t\t{ "d0" : 3, "d1" : 4, "trait" : "yardtogetline" },\n\n\t\t{ "d0" : 17, "d1" : 18, "trait" : "joint" },\n\t\t{ "d0" : 17, "d1" : 19, "trait" : "joint" },\n\t\t{ "d0" : 17, "d1" : 20, "trait" : "joint" },\n\t\t{ "d0" : 17, "d1" : 21, "trait" : "joint" },\n\t\t{ "d0" : 18, "d1" : 19, "trait" : "joint" },\n\t\t{ "d0" : 19, "d1" : 20, "trait" : "joint" },\n\t\t{ "d0" : 20, "d1" : 21, "trait" : "joint" },\n\t\t{ "d0" : 21, "d1" : 18, "trait" : "joint" }\n\n\t\t// { "d0" : 22, "d1" : 23, "trait" : "crowdboxline" },\n\t\t// { "d0" : 23, "d1" : 24, "trait" : "crowdboxline" },\n\t\t// { "d0" : 24, "d1" : 25, "trait" : "crowdboxline" },\n\t\t// { "d0" : 25, "d1" : 22, "trait" : "crowdboxline" }\n\n\t],\n\n\t"planes" : [\n\t\t{ "normal" : [0,1 ], "dist" : -350, "trait" : "ballArea" },\n\t\t{ "normal" : [0,-1 ], "dist" : -350, "bCoef" : 1, "trait" : "ballArea" },\n\t\t{ "normal" : [1,0 ], "dist" : -1065, "trait" : "ballArea" },\n\t\t{ "normal" : [-1,0 ], "dist" : -1065, "trait" : "ballArea" },\n\t\t\n\t\t{ "normal" : [0,1 ], "dist" : -375, "bCoef" : 0.9 },\n\t\t{ "normal" : [0,-1 ], "dist" : -375, "bCoef" : 0.9 },\n\t\t{ "normal" : [1,0 ], "dist" : -1090, "bCoef" : 0.9 },\n\t\t{ "normal" : [-1,0 ], "dist" : -1090, "bCoef" : 0.9 }\n\n\t],\n\n\t"traits" : {\n\t\t"ballArea" : { "vis" : false, "bCoef" : 1, "cMask" : ["ball" ] },\n\t\t"endline" : { "vis" : false, "bCoef" : 1, "cMask" : ["ball" ] },\n\t\t"goalPost" : { "radius" : 4, "invMass" : 0, "bCoef" : 0.5, "color" : "FFFF00" },\n\t\t"goalNet" : { "vis" : true, "bCoef" : 0.1, "cMask" : ["ball" ] },\n\t\t"kickOffBarrier" : { "vis" : false, "bCoef" : 0.1, "cGroup" : ["redKO","blueKO" ], "cMask" : ["red","blue","c0" ] },\n\t\t"goalline" : { "vis" : true, "color" : "FFA500", "cMask" : ["c0","wall" ] },\n\t\t"yardline" : { "vis" : true, "color" : "c7e6bd", "cMask" : [ ] },\n\t\t"centerline" : { "vis" : true, "color" : "E0E0E0", "cMask" : [ ] },\n\t\t"goalmarker" : { "vis" : true, "color" : "FFA500", "cMask" : [ ], "radius" : 3 },\n\t\t"losmarker" : { "vis" : true, "color" : "273d6b", "cMask" : [ ], "radius" : 3 },\n\t\t"yardtogetmarker" : { "vis" : true, "color" : "8FE271", "cMask" : [ ], "radius" : 3 },\n\t\t"teweight" : { "vis" : false, "radius" : 0, "cMask" : ["red", "blue" ], "invMass" : 1.2 },\n\t\t"teweight1" : { "vis" : false, "radius" : 0, "cMask" : [], "invMass" : 1.2, "color" : "F2F2F2" },\n\t\t"losline" : { "vis" : true, "color" : "273d6b" },\n\t\t"yardtogetline" : { "color" : "8FE271" },\n\t\t"crowdboxline" : { "color" : "ff8164", "invMass" : 0.1 },\n\t\t"crowdboxmarker" : { "color" : "ff6242", "radius" : 3, "vis" : true, "cMask" : [ ], "invMass" : 0.1 },\n\t\t"goal" : { "vis" : true, "color" : "FFA500" }\n\n\t},\n\n\t"ballPhysics" : {\n\t\t"cMask" : [ "wall", "red", "blue"\n\t\t],\n\t\t"cGroup" : [ "ball"\n\t\t],\n\t\t"color" : "602323",\n\t\t"radius" : 6.3\n\n\t},\n\n\t"playerPhysics" : {\n\t\t"kickStrength" : 7.6,\n        "kickback" : 0,\n\t\t"bCoef" : 0.75,\n\t\t"invMass" : 0.8\n\n\t},\n\n\t"redSpawnPoints" : [\n\t\t\n\n\t],\n\n\t"blueSpawnPoints" : [\n\t\t\n\n\t]\n}'},3279:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TEAMS=void 0,e.TEAMS={SPECTATORS:0,RED:1,BLUE:2}},2665:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.largestInArray=e.getRandomChars=e.averageOfArray=e.extrapolateLine=e.toOrdinalSuffix=e.isObject=e.sumObjectValues=e.containsNWord=e.randFromArrayWeighted=e.randFromArray=e.escapeRegExp=e.formatTime=e.formatDate=e.formatDateAndTime=e.isInRectangleArea=e.inRange=e.toPercent=e.toPercentString=e.formatPercent=e.sleep=e.hexToAscii=e.secToMin=e.plural=e.round=e.truncateName=e.addPlus=e.leftpad=e.getRandomIntInRange=e.limitNumberWithinRange=e.getRandomInt=e.truncateString=e.partition=void 0,e.partition=(t,e)=>t.reduce(((t,a,n,s)=>(t[e(a,n,s)?0:1].push(a),t)),[[],[]]),e.truncateString=(t="",e)=>t.length<=e?t:t.slice(0,e-3)+"...",e.getRandomInt=t=>Math.floor(Math.random()*t),e.limitNumberWithinRange=(t,e,a)=>{if(e>a)throw Error(`Min ${e} is greater than Max ${a}`);return Math.min(Math.max(t,e),a)},e.getRandomIntInRange=(t,e)=>{let a=e-t,n=Math.random();return n=Math.floor(n*a),n+=t,n},e.leftpad=t=>t<10?`0${t}`:`${t}`,e.addPlus=t=>t>0?`+${t}`:`${t}`,e.truncateName=t=>(0,e.truncateString)(t,15),e.round=(t,e=0)=>{const a=Math.pow(10,e);return Math.round(t*a)/a},e.plural=(t,e,a)=>`${t} ${1===t?e:a}`,e.secToMin=t=>(0,e.round)(t/60,2),e.hexToAscii=t=>{let e="";for(let a=0;a<t.length;a+=2)e+=String.fromCharCode(parseInt(t.substr(a,2),16));return e},e.sleep=t=>new Promise((e=>setTimeout(e,t))),e.formatPercent=(t,a=0)=>`${(0,e.round)(100*t,a)}%`,e.toPercentString=(t,a)=>(0,e.toPercent)(t,a)+"%",e.toPercent=(t,e)=>{const a=Math.round(t/e*100);return Number.isNaN(a)?0:a},e.inRange=(t,e,a)=>{if(e>=a)throw new Error("Invalid range");return t>=e&&t<=a},e.isInRectangleArea=({x1:t,y1:e,x2:a,y2:n},{x:s,y:i})=>s>t&&s<a&&i>e&&i<n,e.formatDateAndTime=(t=Date.now())=>`${(0,e.formatDate)(t)} ${(0,e.formatTime)(t)}`,e.formatDate=(t=Date.now())=>new Date(t).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",timeZone:"America/Chicago"}),e.formatTime=(t=Date.now())=>{const e=new Date(t);let a=e.getHours(),n=e.getMinutes();const s=a>=12?"PM":"AM";return a%=12,a=a||12,n=n<10?"0"+n:n,a+":"+n+" "+s},e.escapeRegExp=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),e.randFromArray=t=>t[~~(t.length*Math.random())],e.randFromArrayWeighted=t=>{if(t.some((t=>t.weight>1)))throw Error("Weight cannot be larger than 1");let e=(t=>[].concat(...t.map((t=>new Array(Math.ceil(100*t.weight)).fill(t)))))(t);return e[Math.floor(Math.random()*e.length)]},e.containsNWord=t=>{t=t.toLowerCase();const e=new RegExp(/(n|i){1,32}((g{2,32}|q){1,32}|[gq]{2,32})[e3r]{1,32}/,"i").test(t);return["nig","nigger","n1gger","n1gg3r","niger","n1g3r","nigga","n1gg@","n1g@","niga"].some((e=>t.includes(e)))||e},e.sumObjectValues=t=>Object.values(t).reduce(((t,e)=>t+e)),e.isObject=t=>null!=t&&"Object"===t.constructor.name,e.toOrdinalSuffix=t=>t+{one:"st",two:"nd",few:"rd",other:"th"}[new Intl.PluralRules("en",{type:"ordinal"}).select(t)],e.extrapolateLine=(t,e,a)=>{const n=e.x-t.x,s=e.y-t.y;return 0===n?{x:t.x,y:1/0}:{x:a,y:s/n*(a-t.x)+t.y}},e.averageOfArray=t=>t.reduce(((t,e)=>t+e))/t.length,e.getRandomChars=t=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";return[...Array(t)].map((()=>e.charAt(Math.floor(Math.random()*e.length)))).join("")},e.largestInArray=(t,e)=>t.reduce(((t,a)=>t[e]>a[e]?t:a))}},e={};!function a(n){var s=e[n];if(void 0!==s)return s.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,a),i.exports}(5198)})();